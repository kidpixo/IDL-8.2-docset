<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   GetValueAtLocation Method
  </title>
  <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../Resources/TableStyles/Keyword_Table.css" rel="stylesheet" />
  <link href="../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../idl_CSH.html#IDL Graphics/GetValueAtLocation Method.html" style="">
    Open topic with navigation
   </a>
  </p>
  <h1 class="ObjMethod">
   GetValueAtLocation Method
  </h1>
  <p>
   The
   <a name="kanchor5321">
   </a>
   GetValueAtLocation function method allows you to programmatically retrieve the data value that is closest to the provided location.
  </p>
  <h2 class="API">
   Example
  </h2>
  <p class="Code">
   Temperature=[20,24,21,22,25,30,29,30,25,20,15,19]
  </p>
  <p class="Code">
   Day=FINDGEN(12) * 30 + 15
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   p = PLOT(Day, Temperature, 'Db-1', $
  </p>
  <p class="Code">
   XTITLE = 'Day of Year', $
  </p>
  <p class="Code">
   YTITLE = 'Temperature')
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Find the data point closest to Day 150:
  </p>
  <p class="Code">
   xy = p.GetValueAtLocation(150)
  </p>
  <p class="Code">
   print, 'Day=', xy[0], '  Temp=', xy[1]
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Now interpolate the data to Day 150:
  </p>
  <p class="Code">
   xy = p.GetValueAtLocation(150, /INTERPOLATE)
  </p>
  <p class="Code">
   print, 'Day=', xy[0], '  Temp=', xy[1]
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Draw a crosshair at the interpolated value:
  </p>
  <p class="Code">
   p.Crosshair.LOCATION = xy
  </p>
  <p class="Code">
   p.Crosshair.COLOR = 'red'
  </p>
  <p class="Code">
   p.Crosshair.THICK = 2
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   Day=      135.000  Temp=      25.0000
  </p>
  <p class="Code">
   Day=      150.000  Temp=      27.5000
  </p>
  <p class="Code">
   &#160;
  </p>
  <p>
   As another example, find a data point in an image:
  </p>
  <p class="Code">
   im = IMAGE(/TEST)
  </p>
  <p class="Code">
   xyrgb1 = im.GetValueAtLocation(200.25, 100.4)
  </p>
  <p class="Code">
   print, 'X Y R G B: ', xyrgb1
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   xyrgb2 = im.GetValueAtLocation(200.25, 100.4, /INTERPOLATE)
  </p>
  <p class="Code">
   print, 'X Y R G B: ', xyrgb2
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   X Y R G B:      200.000      100.000      105.000      121.000      147.000
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   X Y R G B:      200.250      100.400      126.600      142.600      167.400
  </p>
  <h2 class="API">
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result = graphic
   </i>
   .GetValueAtLocation(
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   ,
   <i>
    Z
   </i>
   &#160;[, /DEVICE] [, /INTERPOLATE] [, /NORMAL] )
  </p>
  <h2 class="API">
   Return Value
  </h2>
  <p>
   The GetValueAtLocation method returns a vector containing the location and data value of the nearest point. See the table below for the contents of the result.
  </p>
  <h2 class="API">
   Arguments
  </h2>
  <p>
   The input arguments and the result depend on the graphic being queried. The following table lists the form of input arguments and the return value.
  </p>
  <table class="TableStyle-Keyword_Table" style="mc-table-style: url('../Resources/TableStyles/Keyword_Table.css');margin-left: 0;margin-right: auto;" cellspacing="0">
   <col style="width: 150px;" class="Column-Column1" />
   <col style="width: 57px;" class="Column-Column1" />
   <col style="width: 350px;" class="Column-Column1" />
   <thead>
    <tr class="Head-Header1">
     <th class="HeadE-Column1-Header1">
      <p>
       Graphic
      </p>
     </th>
     <th class="HeadE-Column1-Header1">
      <p>
       Arguments
      </p>
     </th>
     <th class="HeadD-Column1-Header1">
      <p>
       Result
      </p>
     </th>
    </tr>
   </thead>
   <tbody>
    <tr class="Body-Body1">
     <td class="BodyE-Column1-Body1">
      <p>
       Barplot
      </p>
     </td>
     <td class="BodyE-Column1-Body1">
      <p>
       X
      </p>
     </td>
     <td class="BodyD-Column1-Body1">
      <p>
       [X, Y]
      </p>
     </td>
    </tr>
    <tr class="Body-Body2">
     <td class="BodyE-Column1-Body2">
      <p>
       Contour
      </p>
     </td>
     <td class="BodyE-Column1-Body2">
      <p>
       X, Y
      </p>
     </td>
     <td class="BodyD-Column1-Body2">
      <p>
       [X, Y, Z]
      </p>
     </td>
    </tr>
    <tr class="Body-Body1">
     <td class="BodyE-Column1-Body1">
      <p>
       Errorplot
      </p>
     </td>
     <td class="BodyE-Column1-Body1">
      <p>
       X
      </p>
     </td>
     <td class="BodyD-Column1-Body1">
      <p>
       [X, Y]
      </p>
     </td>
    </tr>
    <tr class="Body-Body2">
     <td class="BodyE-Column1-Body2">
      <p>
       Image
      </p>
     </td>
     <td class="BodyE-Column1-Body2">
      <p>
       X, Y
      </p>
     </td>
     <td class="BodyD-Column1-Body2">
      <p>
       [X, Y, Value] or [X, Y, R, G, B] or [X, Y, R, G, B, A]
      </p>
     </td>
    </tr>
    <tr class="Body-Body1">
     <td class="BodyE-Column1-Body1">
      <p>
       Plot3D
      </p>
     </td>
     <td class="BodyE-Column1-Body1">
      <p>
       X, Y, Z
      </p>
     </td>
     <td class="BodyD-Column1-Body1">
      <p>
       [X, Y, Z]
      </p>
     </td>
    </tr>
    <tr class="Body-Body2">
     <td class="BodyE-Column1-Body2">
      <p>
       Plot
      </p>
     </td>
     <td class="BodyE-Column1-Body2">
      <p>
       X
      </p>
     </td>
     <td class="BodyD-Column1-Body2">
      <p>
       [X, Y]
      </p>
     </td>
    </tr>
    <tr class="Body-Body1">
     <td class="BodyE-Column1-Body1">
      <p>
       Polarplot
      </p>
     </td>
     <td class="BodyE-Column1-Body1">
      <p>
       X, Y
      </p>
     </td>
     <td class="BodyD-Column1-Body1">
      <p>
       [X, Y]
      </p>
     </td>
    </tr>
    <tr class="Body-Body2">
     <td class="BodyE-Column1-Body2">
      Streamline
     </td>
     <td class="BodyE-Column1-Body2">
      X, Y
     </td>
     <td class="BodyD-Column1-Body2">
      [X, Y, U, V]
     </td>
    </tr>
    <tr class="Body-Body1">
     <td class="BodyE-Column1-Body1">
      <p>
       Surface
      </p>
     </td>
     <td class="BodyE-Column1-Body1">
      <p>
       X, Y
      </p>
     </td>
     <td class="BodyD-Column1-Body1">
      <p>
       [X, Y, Z]
      </p>
     </td>
    </tr>
    <tr class="Body-Body2">
     <td class="BodyB-Column1-Body2">
      <p>
       Vector
      </p>
     </td>
     <td class="BodyB-Column1-Body2">
      <p>
       X, Y
      </p>
     </td>
     <td class="BodyA-Column1-Body2">
      <p>
       [X, Y, U, V]
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   Note that the output X, Y values will be the location of the nearest data value, and will not necessarily be equal to the input X, Y.
  </p>
  <h2 class="API">
   Keywords
  </h2>
  <h3 class="Keyword">
   DEVICE
  </h3>
  <p>
   Set this keyword if the input X, Y, or Z are in device coordinates. The X, Y, Z will then be automatically converted to data coordinates.
  </p>
  <h3 class="Keyword">
   INTERPOLATE
  </h3>
  <p>
   Set this keyword to linearly interpolate the nearest data values to the provided location. The default behavior is to find the nearest data value and return the value and its location. If INTERPOLATE is set then the returned X, Y location will be equal to the input X, Y.
  </p>
  <h3 class="Keyword">
   NORMAL
  </h3>
  <p>
   Set this keyword if the input X, Y, or Z are in normalized coordinates. The X, Y, Z will then be automatically converted to data coordinates.
  </p>
  <h2 class="API">
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       8.1
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   See Also
  </h2>
  <p>
   <a href="ConvertCoord Method.html" target="" title="" alt="">
    ConvertCoord Method
   </a>
   ,
   <a href="GetData Method.html" target="" title="" alt="">
    GetData Method
   </a>
   ,
   <a href="HitTestMethod.html">
    HitTest Method
   </a>
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>