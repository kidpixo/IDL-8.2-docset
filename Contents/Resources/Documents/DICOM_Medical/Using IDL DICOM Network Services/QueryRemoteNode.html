<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Additional Topics|Medical Imaging in IDL|Using IDL DICOM Network Services|Querying a Remote Machine" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Query the Remote Node
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#DICOM_Medical/Using IDL DICOM Network Services/QueryRemoteNode.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../OtherTopics.html">
    Additional Topics
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../Expanded DICOM Support in IDL/ExpandedDICOMFunctionality.html">
    Medical Imaging in IDL
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="Overview.html">
    Using IDL DICOM Network Services
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Query the Remote Node
   </span>
  </div>
  <h2 class="API">
   Query the Remote Node
  </h2>
  <p>
   <a name="kanchor4983">
   </a>
   To query a remote machine, complete the following steps:
  </p>
  <ol>
   <li value="1">
    <p>
     Open the
     <b>
      DICOM Network Services
     </b>
     utility if needed by entering:
    </p>
    <p class="Code_Indented">
     DICOMEX_NET
    </p>
   </li>
   <li value="2">
    Click on the
    <b>
     Query Retrieve SCU
    </b>
    tab.
   </li>
   <li value="3">
    In the
    <span class="Bold">
     Query Node
    </span>
    droplist, select the Application Entity name associated with the remote machine to be queried. If this droplist is blank, you need to define an Application Entity for the remote machine as described in
    <a href="DefiningMachineToBeQueried.html">
     Defining a Machine to Be Queried
    </a>
    .
   </li>
   <li value="4">
    Select the query to be performed from the droplist:
   </li>
   <ul>
    <li value="1">
     <b>
      All patients
     </b>
     — the default patient-level query
    </li>
    <li value="2">
     <p>
      <span class="Bold">
       Use current query
      </span>
      — the last configured custom query. If you have not built a custom query, the default is a patient-level query.
     </p>
     <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
      <span class="autonumber">
       <span>
        <b>
         Note:
        </b>
       </span>
      </span>
      See
      <a class="MCXref_Heading_0" href="#dicom_net_1225099434_1124618">
       Query the Remote Node
      </a>
      if you want to change the default query.
     </p>
    </li>
   </ul>
   <li value="5">
    Click the
    <span class="Bold">
     Query
    </span>
    button. All patient files located on the remote machine (up to the number of
    <span class="Bold">
     Max Query Responses
    </span>
    defined on the
    <span class="Bold">
     Configuration
    </span>
    tab) that match the query parameters will be returned.
   </li>
   <li value="6">
    View the query results in the
    <span class="Bold">
     Results
    </span>
    section, described in
    <a href="#Query">
     Query Results
    </a>
    . Status information appears in the
    <span class="Bold">
     Status
    </span>
    window.
   </li>
  </ol>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   If you have a query error, you can use the Echo SCU functionality to test the connection. See
   <a href="ReturningConnectionStatusWithEcho.html">
    Returning Connection Status with Echo
   </a>
   .
  </p>
  <h3>
   Cancelling a Query Operation
  </h3>
  <p>
   To stop a query, click the
   <span class="Bold">
    Cancel
   </span>
   button. This sends a cancel request to the remote machine and halts the return of file information.
  </p>
  <h3>
   <a name="Query">
   </a>
   Query Results
  </h3>
  <p>
   <a name="kanchor4984">
   </a>
   The results of any query are shown in the
   <span class="Bold">
    Results
   </span>
   section of the
   <span class="Bold">
    Query Retrieve SCU
   </span>
   tab. This area is divided into a navigation tree in the left pane and a table display in the right pane. A subset of the
   <span class="Bold">
    Results
   </span>
   area is shown in the following figure.
  </p>
  <p>
   &#160;
  </p>
  <p style="text-align: center;">
   <img src="../../Resources/Images/net_q_r_results.gif" style="margin-left: 5.99976px;margin-top: 5.99976px;margin-right: 2.160702px;margin-bottom: 17.51904px;" />
  </p>
  <p class="FigureTitle">
   Results Area of the Query Retrieve SCU Tab
  </p>
  <p>
   The Navigation Tree area displays the patient-study-series-image hierarchy. The Table Display area displays selected patient, study, series or image information.
  </p>
  <p>
   When you click on an item in the Navigation Tree, a sub-query returns child items. For example, clicking on a series will perform a sub-query to return all images associated with that series, up to the
   <span class="Bold">
    Maximum Query Responses
   </span>
   value. Click the + symbol next to any previously selected item (or double-click the item) to see sub-items.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   For optimum performance, the initial query does not populate the Navigation Tree with all child items. Because these items are returned on request, there may be a slight delay in the display of sub-query results.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Some remote machines do not return a patient ID with query results. When you perform a query by clicking the
   <span class="Bold">
    Query
   </span>
   button, all results returned without a patient ID appear under “Unknown Patient ID” in the Navigation Tree window.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>