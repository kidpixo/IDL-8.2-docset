<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Image Analysis" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Shift Image Arrays
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#GuideMe/ImageProcessing/ShiftingImageArrays.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Graphics/Image Processing.html">
    Image Analysis
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Shift Image Arrays
   </span>
  </div>
  <h1>
   Shift Image Arrays
  </h1>
  <p>
   Sometimes image files are saved with array elements offset. You can correct for the offsets using the SHIFT function as long as you know the amounts of the vertical and horizontal offsets.
  </p>
  <p>
   Use the SHIFT function to move elements of a vector or array along any dimension. Since all shifts are circular, elements that are shifted off one end wrap around, appearing at the opposite end of the vector or array.
  </p>
  <p>
   The following example shows an image where the x-axis of the original image is offset by a quarter of the image width, and the y-axis is offset by a third of the height. In the code, you can see how the SHIFT&#160;function works to correct the image display.
  </p>
  <table style="caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: auto;margin-right: auto;" class="TableStyle_Description" cellspacing="0">
   <caption>
   </caption>
   <p>
    Original misaligned image and corrected image
   </p>
   <col />
   <col style="width: 18px;" />
   <tbody>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
      <img src="../images/Shift_original.gif" style="width: 372px;height: 274px;" />
     </td>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
      <img src="../images/Shift_corrected.gif" style="width: 379px;height: 274px;" />
     </td>
    </tr>
   </tbody>
  </table>
  <p class="Code">
   ; Select the image file.
  </p>
  <p class="Code">
   file = FILEPATH('shifted_endocell.png', $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SUBDIRECTORY = ['examples','data'])
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Use the READ_PNG function to read it into memory.
  </p>
  <p class="Code">
   cell = READ_PNG(file)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Get the size of the image returned by the SIZE function.
  </p>
  <p class="Code">
   imageSize = SIZE(cell, /DIMENSIONS)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Display the image using the IMAGE function.
  </p>
  <p class="Code">
   im = IMAGE(cell, TITLE = 'Original Image', RGB_TABLE=29)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Use the SHIFT function to correct the original image.
  </p>
  <p class="Code">
   cell2 = SHIFT(cell, -(imageSize[0]/4), -(imageSize[1]/3))
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Display the corrected image in a second window.
  </p>
  <p class="Code">
   im2 = IMAGE(cell2, TITLE = 'Shifted Image', RGB_TABLE=29)
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   In the example, the SHIFT function moves the elements along the x-axis to the left, using a quarter of the array width as the x-dimension values. It also moves the y-axis elements, using one third of the array height as the number of elements to be shifted. By entering negative values for the amount the image dimensions are to be shifted, the array elements move toward the x and y axes.
  </p>
  <h2 class="API">
   Resources
  </h2>
  <ul>
   <li value="1">
    <a href="../../Reference Material/I/IMAGE.html" target="" title="" alt="" class="MCXref_Heading_0">
     IMAGE
    </a>
   </li>
   <li value="2">
    <a href="../../Reference Material/R/READ_PNG.html">
     READ_PNG
    </a>
   </li>
   <li value="3">
    <a href="../../Reference Material/S/SHIFT.html">
     SHIFT
    </a>
    <![CDATA[ ]]>
   </li>
   <li value="4">
    <a href="../../Reference Material/S/SIZE.html">
     SIZE
    </a>
   </li>
   <li value="5">
    <a href="../../LoadingDefaultColorTables.html">
     Loading Default Color Tables
    </a>
   </li>
   <li value="6">
    <a href="../../Reference Material/Functional List of IDL Routines/Graphics.html" target="" title="" alt="" class="MCXref_Heading_0">
     Graphics
    </a>
   </li>
   <li value="7">
    <a href="../propChanges.html" target="" title="" alt="" class="MCXref_Heading_0">
     Change Graphics Properties
    </a>
   </li>
   <li value="8">
    <a href="../MultiViz.html" target="" title="" alt="" class="MCXref_Heading_0">
     Multiple Graphics in One Window
    </a>
   </li>
   <li value="9">
    <a href="../ImageGuideMe/SaveImage.html" target="" title="" alt="" class="MCXref_Heading_0">
     Saving Graphics
    </a>
   </li>
   <li value="10">
    <a href="../../IDL Graphics/FormattingSymsAndLines.html" target="" title="" alt="" class="MCXref_Heading_0">
     Formatting IDL&#160;Graphics Symbols and Lines
    </a>
   </li>
  </ul>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>