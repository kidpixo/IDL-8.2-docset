<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: C" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   CATCH
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/C/CATCH.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="C_list.html">
    Routines: C
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    CATCH
   </span>
  </div>
  <h1 class="Routine">
   <a name="C_854643309_985147">
   </a>
   <a name="C_854643309_70268">
   </a>
   CATCH
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#C_854643309_884074">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#C_854643309_716953">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#C_854643309_716963">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#C_854643309_716997">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#C_854643309_796024">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#C_854643309_1052061">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor207">
   </a>
   CATCH procedure provides a generalized mechanism for the
   <a name="kanchor208">
   </a>
   handling of exceptions and errors within IDL. Calling CATCH establishes an error handler for the current procedure that intercepts all errors that can be handled by IDL, excluding non-fatal warnings such as math errors (e.g., floating-point underflow).
  </p>
  <p>
   When an error occurs, each active procedure, beginning with the offending procedure and proceeding up the call stack to the main program level, is examined for an error handler (established by a call to CATCH). If an error handler is found, control resumes at the statement after the call to CATCH. The index of the error is returned in the argument to CATCH. The
   <a class="MCXref_Heading_0" href="../../Creating IDL Programs/Appendices/Error_Handling_System_Va.html#sysvars_272074529_1003013">
    !ERROR_STATE
   </a>
   system variable is also set. The associated error message is stored in
   <a name="kanchor209">
   </a>
   !ERROR_STATE.MSG. If no error handlers are found, program execution stops, an error message is issued, and control reverts to the interactive mode. A call to ON_IOERROR in the procedure that causes an I/O error supersedes CATCH, and takes the branch to the label defined by ON_IOERROR.
  </p>
  <p>
   This mechanism is similar, but not identical to, the
   <span class="Courier">
    <a name="kanchor210">
    </a>
    setjmp/
    <a name="kanchor211">
    </a>
    longjmp
   </span>
   facilities in C and the
   <a name="kanchor212">
   </a>
   <span class="Courier">
    catch/throw
   </span>
   facilities in C++.
  </p>
  <p>
   Error handling is discussed in more detail in
   <a class="MCXref_Heading_0" href="../../Creating IDL Programs/Application Programming/Controlling_and_Recoveri.html#debug_2348412560_544201" target="" title="" alt="">
    Controlling and Recovering from Errors
   </a>
   .
  </p>
  <h2 class="API">
   <a name="C_854643309_884074">
   </a>
   <a name="C_854643309_884074_PageTOC_CATCH_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   CATCH, [
   <i>
    Variable
   </i>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#C_854643309_716974">
    CANCEL
   </a>
   ]
  </p>
  <h2 class="API">
   <a name="C_854643309_716953">
   </a>
   <a name="C_854643309_716953_PageTOC_CATCH_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   Variable
  </h3>
  <p>
   A named variable in which the error index is returned. When an error handler is established by a call to CATCH,
   <i>
    Variable
   </i>
   is set to zero. If an error occurs,
   <i>
    Variable
   </i>
   is set to the error index, and control is transferred to the statement after the call to CATCH. The error index is also returned in the CODE field of the !ERROR_STATE system variable, i.e., !ERROR_STATE.CODE.
  </p>
  <h2 class="API">
   <a name="C_854643309_716963">
   </a>
   <a name="C_854643309_716963_PageTOC_CATCH_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="C_854643309_716974">
   </a>
   <a name="C_854643309_716974_Keywords_CATCH__">
   </a>
   CANCEL
   <a name="kanchor213">
   </a>
  </h3>
  <p>
   Set this keyword to cancel the error handler for the current procedure. This cancellation does not affect other error handlers that may be established in other active procedures.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   If the CANCEL keyword is set, the
   <i>
    Variable
   </i>
   argument must not be present.
  </p>
  <h2 class="API">
   <a name="C_854643309_716997">
   </a>
   <a name="C_854643309_716997_PageTOC_CATCH_">
   </a>
   Examples
  </h2>
  <p>
   The following procedure illustrates the use of CATCH:
  </p>
  <p class="Code">
   PRO CATCH_EXAMPLE
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;; Define variable A:
  </p>
  <p class="Code">
   &#160;&#160;&#160;A = FLTARR(10)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;; Establish error handler. When errors occur, the index of the
  </p>
  <p class="Code">
   &#160;&#160;&#160;; error is returned in the variable Error_status:
  </p>
  <p class="Code">
   &#160;&#160;&#160;CATCH, Error_status
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;;This statement begins the error handler:
  </p>
  <p class="Code">
   &#160;&#160;&#160;IF Error_status NE 0 THEN BEGIN
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;PRINT, 'Error index: ', Error_status
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;PRINT, 'Error message: ', !ERROR_STATE.MSG
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;; Handle the error by extending A:
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;A=FLTARR(12)
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;&#160;CATCH, /CANCEL
  </p>
  <p class="Code">
   &#160;&#160;&#160;ENDIF
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;; Cause an error:
  </p>
  <p class="Code">
   &#160;&#160;&#160;A[11]=12
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;; Even though an error occurs in the line above, program
  </p>
  <p class="Code">
   &#160;&#160;&#160;; execution continues to this point because the event handler
  </p>
  <p class="Code">
   &#160;&#160;&#160;; extended the definition of A so that the statement can be
  </p>
  <p class="Code">
   &#160;&#160;&#160;; re-executed.
  </p>
  <p class="Code">
   &#160;&#160;&#160;HELP, A
  </p>
  <p class="Code">
   END
  </p>
  <p>
   Running the CATCH_EXAMPLE procedure causes IDL to produce the following output and control returns to the interactive prompt:
  </p>
  <p class="Code">
   Error index:         -144
  </p>
  <p class="Code">
   Error message:
  </p>
  <p class="Code">
   Attempt to subscript A with &lt;INT (      11)&gt; is out of range.
  </p>
  <p class="Code">
   A               FLOAT     = Array[12]
  </p>
  <h2 class="API">
   <a name="C_854643309_796024">
   </a>
   <a name="C_854643309_796024_PageTOC_CATCH_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       Pre 4.0
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="C_854643309_1052061">
   </a>
   <a name="C_854643309_1052061_PageTOC_CATCH_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../../Creating IDL Programs/Appendices/Error_Handling_System_Va.html#sysvars_272074529_1003013">
    !ERROR_STATE
   </a>
   ,
   <a class="MCXref_Heading_0" href="../O/ON_ERROR.html#O_828691053_889555">
    ON_ERROR
   </a>
   ,
   <a class="MCXref_Heading_0" href="../O/ON_IOERROR.html#O_828691053_889589">
    ON_IOERROR
   </a>
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>