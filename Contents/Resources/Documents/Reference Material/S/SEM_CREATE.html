<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: S" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   SEM_CREATE
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/Keyword_Table.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/S/SEM_CREATE.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="S_list.html">
    Routines: S
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    SEM_CREATE
   </span>
  </div>
  <h1 class="Routine">
   <a name="S_820040301_1318441">
   </a>
   <a name="S_820040301_89537">
   </a>
   SEM_CREATE
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#S_820040301_1318446">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1318448">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1318450">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1318457">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1318487">
     Example
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1318490">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1318497">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   A
   <i>
    <a name="kanchor2352">
    </a>
    semaphore
   </i>
   is a software mechanism used to provide synchronization between multiple processes or between different threads of a single process. Often, semaphores are used to protect or restrict access to shared or key resources, such as shared memory segments.
  </p>
  <p>
   The
   <a name="kanchor2353">
   </a>
   SEM_CREATE function creates a reference to a semaphore in the current IDL process. If the specified semaphore already exists in the system, a reference to the existing semaphore is created. If the semaphore does not exist, a new semaphore is created in the system and a reference to it is created in the current IDL process.
  </p>
  <p>
   It is important to note that the semaphore itself is independent of any IDL process, but that the
   <i>
    reference
   </i>
   to the semaphore is unique to the IDL process that calls SEM_CREATE.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   On UNIX systems, a semaphore is marked for deletion when the process that
   <i>
    created
   </i>
   the semaphore exits. While this does not immediately delete the semaphore itself, it does free up the semaphore’s
   <i>
    name
   </i>
   . This means that after the process that created a semaphore exits — even if other processes have references to that semaphore — SEM_CREATE will create a new and distinct semaphore with the same name. Any subsequent processes that call SEM_CREATE with that name will receive a reference to the new semaphore.
   <br />
   <br />
   If this behavior causes problems for your application, ensure that the process that creates a semaphore does not exit until all processes that use the semaphore have either exited or deleted their references to the semaphore.
  </p>
  <h2 class="API">
   <a name="S_820040301_1318446">
   </a>
   <a name="S_820040301_1318446_PageTOC_SEM_CREATE_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = SEM_CREATE(
   <i>
    strName
   </i>
   [,&#160;/
   <a class="MCXref_Heading_0" href="#S_820040301_1318458">
    DESTROY_SEMAPHORE
   </a>
   ] )
  </p>
  <h2 class="API">
   <a name="S_820040301_1318448">
   </a>
   <a name="S_820040301_1318448_PageTOC_SEM_CREATE_">
   </a>
   Return Value
  </h2>
  <p>
   The result is 1 (one) if the semaphore was created successfully or already exists in the system, or 0 (zero) if the semaphore does not exist but an error occurred during creation.
  </p>
  <h2 class="API">
   <a name="S_820040301_1318450">
   </a>
   <a name="S_820040301_1318450_PageTOC_SEM_CREATE_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   strName
  </h3>
  <p>
   A scalar string containing the name associated with the semaphore.
   <i>
    strName
   </i>
   must conform to the rules for a valid file name on the target operating system.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Semaphore names must be 24 characters or less on Macintosh platforms.
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   Use the
   <a class="MCXref_Heading_0" href="../I/IDL_VALIDNAME.html#I_833016429_893464">
    IDL_VALIDNAME
   </a>
   function to ensure that
   <i>
    strName
   </i>
   will be a valid semaphore name on all supported platforms.
  </p>
  <h2 class="API">
   <a name="S_820040301_1318457">
   </a>
   <a name="S_820040301_1318457_PageTOC_SEM_CREATE_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="S_820040301_1318458">
   </a>
   <a name="S_820040301_1318458_Keywords_SEM_CREATE_">
   </a>
   DESTROY_SEMAPHORE
  </h3>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   This keyword is ignored on Windows systems.
   <br />
   On Windows systems, a semaphore will be destroyed by a call to SEM_DELETE (in any IDL process) if no other processes have a reference to the semaphore.
  </p>
  <p>
   Set the DESTROY_SEMAPHORE keyword to allow a call to SEM_DELETE in the current IDL process to destroy the semaphore, even if it was created in a different IDL process.
  </p>
  <p>
   SEM_CREATE creates semaphores that persist in the operating system kernel until they are explicitly destroyed using the SEM_DELETE routine, or until the system is rebooted. A client program can access a semaphore, obtain or remove a lock, and then disconnect at any time. This is convenient in situations where the need for the semaphore is long lived, and programs that need it come and go. This behavior can create a problem, however, in that semaphores that are not explicitly destroyed can cause resource leaks in the operating system. It is important to properly destroy semaphores when they are no longer required.
  </p>
  <p>
   The default behavior on UNIX systems is for IDL to destroy a semaphore when the SEM_DELETE routine is called
   <i>
    only
   </i>
   if the semaphore was created by the same IDL process — that is, if the call to SEM_CREATE in that IDL process created the semaphore itself and not just a reference to an existing semaphore. If the semaphore was created by another process, the call to SEM_DELETE destroys the
   <i>
    reference
   </i>
   to the semaphore within the current IDL process, but does not destroy the semaphore itself. This keyword alters the default behavior in the following way:
  </p>
  <table style="width: 501px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/Keyword_Table.css');" class="TableStyle-Keyword_Table" cellspacing="0">
   <col width="81px" class="Column-Column1" />
   <col width="420px" class="Column-Column1" />
   <thead>
    <tr class="Head-Header1">
     <td class="HeadE-Column1-Header1">
      <p>
       Value
      </p>
     </td>
     <td class="HeadD-Column1-Header1">
      <p>
       Behavior
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr class="Body-Body1">
     <td class="BodyE-Column1-Body1">
      <p>
       not set
      </p>
     </td>
     <td class="BodyD-Column1-Body1">
      <p>
       The semaphore will only be destroyed by a call to SEM_DELETE in the same IDL process that
       <i>
        created
       </i>
       it. This is the default behavior.
      </p>
     </td>
    </tr>
    <tr class="Body-Body2">
     <td class="BodyE-Column1-Body2">
      <p>
       1
      </p>
     </td>
     <td class="BodyD-Column1-Body2">
      <p>
       The semaphore will be destroyed by a call to SEM_DELETE in the current IDL process, even if the call to SEM_CREATE only created a
       <i>
        reference
       </i>
       to the semaphore.
      </p>
     </td>
    </tr>
    <tr class="Body-Body1">
     <td class="BodyB-Column1-Body1">
      <p>
       0
      </p>
     </td>
     <td class="BodyA-Column1-Body1">
      <p>
       The semaphore will not be destroyed by a call to SEM_DELETE in the current IDL process, even if it was created by the current process.
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="S_820040301_1318487">
   </a>
   <a name="S_820040301_1318487_PageTOC_SEM_CREATE_">
   </a>
   Example
  </h2>
  <p>
   See
   <a class="MCXref_Heading_0" href="SEM_LOCK.html#S_820040301_1318522">
    SEM_LOCK
   </a>
   for an example using this function.
  </p>
  <h2 class="API">
   <a name="S_820040301_1318490">
   </a>
   <a name="S_820040301_1318490_PageTOC_SEM_CREATE_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       6.3
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="S_820040301_1318497">
   </a>
   <a name="S_820040301_1318497_PageTOC_SEM_CREATE_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="SEM_DELETE.html#S_820040301_1318499">
    SEM_DELETE
   </a>
   ,
   <a class="MCXref_Heading_0" href="SEM_LOCK.html#S_820040301_1318522">
    SEM_LOCK
   </a>
   ,
   <a class="MCXref_Heading_0" href="SEM_RELEASE.html#S_820040301_1318571">
    SEM_RELEASE
   </a>
   ,
   <a class="MCXref_Heading_0" href="SHMMAP.html#S_820040301_1120658">
    SHMMAP
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>