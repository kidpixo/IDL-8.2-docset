<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: S" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   SEARCH2D
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/S/SEARCH2D.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="S_list.html">
    Routines: S
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    SEARCH2D
   </span>
  </div>
  <h1 class="Routine">
   <a name="S_820040301_758939">
   </a>
   <a name="S_820040301_26448">
   </a>
   SEARCH2D
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#S_820040301_758948">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1133119">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_758950">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_758961">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_758974">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_758987">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#S_820040301_1110254">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor2348">
   </a>
   SEARCH2D function finds “objects” or
   <a name="kanchor2349">
   </a>
   regions of similar data values within a two-dimensional array. Given a starting location and a range of values to search for, SEARCH2D finds all the cells within the array that are within the specified range and have some path of connectivity through these cells to the starting location. In addition to searching for cells within a global range of data values, SEARCH2D can also search for adjacent cells whose values deviate from their neighbors within specified tolerances.
  </p>
  <p>
   This routine is written in the IDL language. Its source code can be found in the file
   <span class="Courier">
    search2d.pro
   </span>
   in the
   <span class="Courier">
    lib
   </span>
   subdirectory of the IDL distribution.
  </p>
  <h2 class="API">
   <a name="S_820040301_758948">
   </a>
   <a name="S_820040301_758948_PageTOC_SEARCH2D_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = SEARCH2D(
   <i>
    Array
   </i>
   ,
   <i>
    Xpos
   </i>
   ,
   <i>
    Ypos
   </i>
   ,
   <i>
    Min_Val
   </i>
   ,
   <i>
    Max_Val
   </i>
   [,&#160;
   <a class="MCXref_Heading_0" href="#S_820040301_758963">
    DECREASE
   </a>
   =
   <i>
    value
   </i>
   ,
   <a class="MCXref_Heading_0" href="#S_820040301_758966">
    INCREASE
   </a>
   =
   <i>
    value
   </i>
   [,&#160;
   <a class="MCXref_Heading_0" href="#S_820040301_758969">
    LPF_BAND
   </a>
   =
   <i>
    integer
   </i>
   {
   <span class="_Override" style="font-family: Symbol;">
    ³
   </span>
   3}]] [,&#160;/
   <a class="MCXref_Heading_0" href="#S_820040301_758972">
    DIAGONAL
   </a>
   ] )
  </p>
  <h2 class="API">
   <a name="S_820040301_1133119">
   </a>
   <a name="S_820040301_48745">
   </a>
   Return Value
  </h2>
  <p>
   SEARCH2D returns a longword array that contains a list of the array subscripts that define the located object or region. The original X and Y indices of the array subscripts returned by SEARCH2D can be found with the following IDL code:
  </p>
  <p class="Code">
   index_y =
   <i style="font-family: Times;font-style: italic;line-height: 12pt;">
    Result
   </i>
   / (SIZE(
   <i style="font-family: Times;font-style: italic;line-height: 12pt;">
    Array
   </i>
   ))[1]
  </p>
  <p class="Code">
   index_x =
   <i style="font-family: Times;font-style: italic;line-height: 12pt;">
    Result
   </i>
   - (index_y * (SIZE(
   <i style="font-family: Times;font-style: italic;line-height: 12pt;">
    Array
   </i>
   ))[1])
  </p>
  <p>
   where
   <i>
    Result
   </i>
   is the array returned by SEARCH2D and
   <i>
    Array
   </i>
   is the original input array. The object within
   <i>
    Array
   </i>
   can be subscripted as
   <i>
    Array
   </i>
   <span class="Courier">
    (
   </span>
   <i style="font-family: Times;font-style: italic;line-height: 13pt;">
    Region
   </i>
   <span class="Courier">
    )
   </span>
   or
   <i>
    Array
   </i>
   <span class="Courier">
    (index_x, index_y)
   </span>
   .
  </p>
  <h2 class="API">
   <a name="S_820040301_758950">
   </a>
   <a name="S_820040301_758950_PageTOC_SEARCH2D_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   Array
  </h3>
  <p>
   A two-dimensional array, of any data type, to be searched.
  </p>
  <h3 class="Argument">
   Xpos
  </h3>
  <p>
   The X coordinate (dimension 0 of
   <i>
    Array
   </i>
   ) of the starting location.
  </p>
  <h3 class="Argument">
   Ypos
  </h3>
  <p>
   The Y coordinate (dimension 1 of
   <i>
    Array
   </i>
   ) of the starting location.
  </p>
  <h3 class="Argument">
   Min_Val
  </h3>
  <p>
   The minimum data value for which to search. All array subscripts of all cells that are connected to the starting cell, and have a value between
   <i>
    Min_Val
   </i>
   and
   <i>
    Max_Val
   </i>
   (inclusive) are returned.
  </p>
  <h3 class="Argument">
   Max_Val
  </h3>
  <p>
   The maximum data value for which to search.
  </p>
  <h2 class="API">
   <a name="S_820040301_758961">
   </a>
   <a name="S_820040301_758961_PageTOC_SEARCH2D_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="S_820040301_758963">
   </a>
   <a name="S_820040301_758963_Keywords_SEARCH2D__">
   </a>
   DECREASE
  </h3>
  <p>
   This keyword and the INCREASE keyword allow you to compensate for changing intensities of data values within an object. An edge-enhanced copy of
   <i>
    Array
   </i>
   is made and compared to the orginal array if this keyword is set. The search is limited to pixels for which the edge-enhanced gradient value lies between the DECREASE and INCREASE values. When DECREASE or INCREASE is set, any adjacent cells are found if their corresponding data values in the edge enhanced array are greater than DECREASE and less than INCREASE. In any case, the adjacent cells will never be selected if their data values are not between
   <i>
    Min_Val
   </i>
   and
   <i>
    Max_Val
   </i>
   . The default for this keyword is 0.0 if INCREASE is specified.
  </p>
  <h3 class="Keyword">
   <a name="S_820040301_758966">
   </a>
   <a name="S_820040301_758966_Keywords_SEARCH2D__">
   </a>
   INCREASE
  </h3>
  <p>
   This keyword and the DECREASE keyword allow you to compensate for changing intensities of data values within an object. An edge-enhanced copy of
   <i>
    Array
   </i>
   is made and compared to the orginal array if this keyword is set. The search is limited to pixels for which the edge-enhanced gradient value lies between the DECREASE and INCREASE values. When DECREASE or INCREASE is set, any adjacent cells are found if their corresponding data values in the edge enhanced array are greater than DECREASE and less than INCREASE. In any case, the adjacent cells will never be selected if their data values are not between
   <i>
    Min_Val
   </i>
   and
   <i>
    Max_Val
   </i>
   . The default for this keyword is 0.0 if DECREASE is specified.
  </p>
  <h3 class="Keyword">
   <a name="S_820040301_758969">
   </a>
   <a name="S_820040301_758969_Keywords_SEARCH2D__">
   </a>
   LPF_BAND
  </h3>
  <p>
   Set this keyword to an integer value of 3 or greater to perform low-pass filtering on the edge-enhanced array. The value of LPF_BAND is used as the width of the smoothing window. This keyword is only effective when the DECREASE or INCREASE keywords are also specified. The default is no smoothing.
  </p>
  <h3 class="Keyword">
   <a name="S_820040301_758972">
   </a>
   <a name="S_820040301_758972_Keywords_SEARCH2D__">
   </a>
   DIAGONAL
  </h3>
  <p>
   Set this keyword to cause SEARCH2D to find cells meeting the search criteria whose surrounding squares share a common corner. Normally, cells are considered adjacent only when squares surrounding the cells share a common edge. Setting this option requires more memory and execution time.
  </p>
  <h2 class="API">
   <a name="S_820040301_758974">
   </a>
   <a name="S_820040301_758974_PageTOC_SEARCH2D_">
   </a>
   Examples
  </h2>
  <p>
   Find all the indices corresponding to an object in an image:
  </p>
  <p class="Code">
   ; Create an image with different valued regions:
   <br />
   img = FLTARR(512, 512)
   <br />
   img[3:503, 9:488] = 0.7
   <br />
   img[37:455, 18:438] = 0.5
   <br />
   img[144:388, 90:400] = 0.7
   <br />
   img[200:301, 1:255] = 1.0
   <br />
   img[155:193, 333:387] = 0.3
   <br />
   TVSCL, img&#160;&#160;&#160;;Display the image.
   <br />
   <br />
   ; Search for an object starting at (175, 300) whose data values are
   <br />
   ; between (0.6) and (0.8):
   <br />
   region = SEARCH2D(img, 175, 300, 0.6, 0.8, /DIAGONAL)
   <br />
   <br />
   ; Scale the background cells into the range 0 to 127:
   <br />
   img = BYTSCL(img, TOP=127B)
   <br />
   <br />
   ; Highlight the object region by setting it to 255:
   <br />
   img[region] = 255B
   <br />
   <br />
   ; Display the array with the highlighted object in it:
   <br />
   TVSCL, img
  </p>
  <h2 class="API">
   <a name="S_820040301_758987">
   </a>
   <a name="S_820040301_758987_PageTOC_SEARCH2D_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       Pre-4.0
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="S_820040301_1110254">
   </a>
   <a name="S_820040301_1110254_PageTOC_SEARCH2D_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="SEARCH3D.html#S_820040301_758989">
    SEARCH3D
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>