<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: S" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   SCALE3 Procedure
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/Figure_Format.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/S/SCALE3_Procedure.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="S_list.html">
    Routines: S
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    SCALE3 Procedure
   </span>
  </div>
  <h1 class="Routine">
   <a name="dg_routines_3604229493_884691">
   </a>
   <a name="dg_routines_3604229493_24364">
   </a>
   SCALE3 Procedure
  </h1>
  <p madcap:conditions="Direct Graphics.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Direct Graphics.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884716">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884734">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884737">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884754">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884793">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884801">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor2339">
   </a>
   SCALE3 procedure sets up transformation and scaling parameters for basic
   <a name="kanchor2340">
   </a>
   3-D viewing. This procedure is similar to SURFR and SCALE3D, except that the data ranges must be specified and the scaling does not vary with rotation. Results are stored in the system variables !P.T, !X.S, !Y.S, and !Z.S.
  </p>
  <p>
   This routine is written in the IDL language. Its source code can be found in the file
   <span class="Courier">
    scale3.pro
   </span>
   in the
   <span class="Courier">
    lib
   </span>
   subdirectory of the IDL distribution.
  </p>
  <h2 class="API">
   <a name="dg_routines_3604229493_884716">
   </a>
   <a name="dg_routines_3604229493_787095_PageTOC_SCALE3_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   SCALE3 [,&#160;
   <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884739">
    XRANGE
   </a>
   =
   <i>
    vector
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884742">
    YRANGE
   </a>
   =
   <i>
    vector
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884745">
    ZRANGE
   </a>
   =
   <i>
    vector
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884748">
    AX
   </a>
   =
   <i>
    degrees
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#dg_routines_3604229493_884751">
    AZ
   </a>
   =
   <i>
    degrees
   </i>
   ]
  </p>
  <h2 class="API">
   <a name="dg_routines_3604229493_884734">
   </a>
   <a name="dg_routines_3604229493_42342">
   </a>
   Arguments
  </h2>
  <p>
   None.
  </p>
  <h2 class="API">
   <a name="dg_routines_3604229493_884737">
   </a>
   <a name="dg_routines_3604229493_787097_PageTOC_SCALE3_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="dg_routines_3604229493_884739">
   </a>
   <a name="dg_routines_3604229493_787099_Keywords_SCALE3__">
   </a>
   XRANGE
  </h3>
  <p>
   A two-element vector containing the minimum and maximum X values. If omitted, the X-axis scaling remains unchanged.
  </p>
  <h3 class="Keyword">
   <a name="dg_routines_3604229493_884742">
   </a>
   <a name="dg_routines_3604229493_787102_Keywords_SCALE3__">
   </a>
   YRANGE
  </h3>
  <p>
   A two-element vector containing the minimum and maximum Y values. If omitted, the Y-axis scaling remains unchanged.
  </p>
  <h3 class="Keyword">
   <a name="dg_routines_3604229493_884745">
   </a>
   <a name="dg_routines_3604229493_787105_Keywords_SCALE3__">
   </a>
   ZRANGE
  </h3>
  <p>
   A two-element vector containing the minimum and maximum Z values. If omitted, the Z-axis scaling remains unchanged.
  </p>
  <h3 class="Keyword">
   <a name="dg_routines_3604229493_884748">
   </a>
   <a name="dg_routines_3604229493_787108_Keywords_SCALE3__">
   </a>
   AX
  </h3>
  <p>
   Angle of rotation about the X axis. The default is 30 degrees.
  </p>
  <h3 class="Keyword">
   <a name="dg_routines_3604229493_884751">
   </a>
   <a name="dg_routines_3604229493_787111_Keywords_SCALE3__">
   </a>
   AZ
  </h3>
  <p>
   Angle of rotation about the Z axis. The default is 30 degrees.
  </p>
  <h2 class="API">
   <a name="dg_routines_3604229493_884754">
   </a>
   <a name="dg_routines_3604229493_787113_PageTOC_SCALE3_">
   </a>
   Examples
  </h2>
  <p>
   Set up a 3-D transformation where the data range is 0 to 20 for each of the 3 axes and the viewing area is rotated 20 degrees about the X axis and 55 degrees about the Z axis:
  </p>
  <p class="Code">
   SCALE3, XRANGE=[0, 20], YRANGE=[0, 20], ZRANGE=[0, 20], AX=20, &#160;&#160;&#160;AZ=55
  </p>
  <h3>
   <a name="dg_routines_3604229493_884758">
   </a>
   <a name="dg_routines_3604229493_43916">
   </a>
   SCALE3 and More Complicated Transformations
  </h3>
  <p>
   The figure below illustrates the application of three-dimensional transforms to the output of CONTOUR and PLOT. Using the two-dimensional Gaussian array
   <span class="Helvetica_Bold">
    z
   </span>
   defined in
   <a class="MCXref_Heading_0" href="SURFACE_Procedure.html#dg_routines_3604229493_887139" target="" title="" alt="">
    Surface of a Gaussian Function
   </a>
   , it draws a three-dimensional contour plot with the contours stacked above the axes in the
   <i>
    z
   </i>
   direction. It then plots the sum of the columns, also a Gaussian, in the
   <i>
    xz
   </i>
   -plane, and the sum of the rows in the
   <i>
    yz
   </i>
   plane.
  </p>
  <table style="width: 517px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Figure_Format.css');" class="TableStyle_Figure_Format" cellspacing="0">
   <caption valign="bottom" style="padding-bottom: 12pt;">
   </caption>
   <p class="FigureTitle">
    <a name="dg_routines_3604229493_94089">
    </a>
    PLOT and CONTOUR with a Three-dimensional Transform
   </p>
   <col width="517px" />
   <tbody>
    <tr>
     <td class="TableStyle_Figure_Format_Body_0_0_RowEnd_ColEnd">
      <p>
       &#160;
      </p>
      <p style="text-align: center;">
       <img src="../../Resources/Images/mult14.gif" style="margin-left: 5.99976px;margin-right: 5.999783px;" />
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   It was constructed as follows:
  </p>
  <p class="Bullet">
   First, the SCALE3 procedure is called to establish the default three- to two-dimensional transformation used by SURFACE, as explained in
   <a class="MCXref_Heading_0" href="SURFACE_Procedure.html#dg_routines_3604229493_887197" target="" title="" alt="">
    Transformation Created by SURFACE
   </a>
   . The default rotations are 30 degrees about both the
   <i>
    x
   </i>
   - and
   <i>
    z
   </i>
   -axes.
  </p>
  <p class="Bullet">
   Next, a vector, POS, defining the cube containing the plot window is defined in normalized coordinates. The cube extends from 0.1 to 1.0 in the
   <i>
    x
   </i>
   and
   <i>
    y
   </i>
   directions and from 0 to 1 in the
   <i>
    z
   </i>
   direction. Each call to CONTOUR and PLOT must explicitly specify this window to align the plots. This is necessary because the default margins around the plot window are different in each direction.
  </p>
  <p class="Bullet">
   CONTOUR is called to draw the stacked contours with the axes at
   <i>
    z
   </i>
   &#160;=&#160;0. Clipping is disabled to allow drawing outside the default plot window, which is only two-dimensional.
  </p>
  <p class="Bullet">
   The procedure T3D is called to exchange the
   <i>
    y
   </i>
   - and
   <i>
    z
   </i>
   -axes. The original
   <i>
    xyz
   </i>
   coordinate system is now
   <i>
    xzy
   </i>
   .
  </p>
  <p class="Bullet">
   PLOT is called to draw the column sums which appear in front of the contour plot. The expression Z#REPLICATE(1.,
   <i>
    N
   </i>
   <span class="SubScript">
    y
   </span>
   ) creates a row vector containing the sum of each row in the two-dimensional array
   <i>
    z
   </i>
   . The NOERASE and NOCLIP keywords are specified to prevent erasure and clipping. This plot appears in the
   <i>
    xz
   </i>
   -plane because of the previous axis exchange.
  </p>
  <p class="Bullet">
   T3D is called again to exchange the
   <i>
    x
   </i>
   - and
   <i>
    z
   </i>
   -axes. This makes the original
   <i>
    xyz
   </i>
   coordinate system, which was converted to
   <i>
    xzy
   </i>
   , now correspond to
   <i>
    yzx
   </i>
   .
  </p>
  <p class="Bullet">
   PLOT is called to produce the column sums in the
   <i>
    yz
   </i>
   -plane in the same manner as the first plot. The original
   <i>
    x
   </i>
   -axis is drawn in the
   <i>
    y
   </i>
   -plane, and the
   <i>
    y
   </i>
   -axis is in the
   <i>
    z
   </i>
   -plane. One unavoidable side effect of this method is that the annotation of this plot is backwards. If the plot is transformed so the letters read correctly, the
   <i>
    x
   </i>
   -axis of the plot would be reversed in relation to the
   <i>
    y
   </i>
   -axis of the contour plot.
  </p>
  <p>
   The IDL code used to draw the figure is as follows:
  </p>
  <p class="Code">
   ; Create the Z variable:
   <br />
   Z = SHIFT(DIST(40), 20, 20)
   <br />
   Z = EXP(-(Z/10)^2)
   <br />
   ; NX and NY are the X and Y dimensions of the Z array:
   <br />
   NX = (SIZE(Z))(1)
   <br />
   NY = (SIZE(Z))(2)
   <br />
   ; Set up !P.T with default SURFACE transformation.
   <br />
   SCALE3
   <br />
   ; Define the three-dimensional plot
   <br />
   ; window: x = 0.1 to 1, Y=0.1 to 1, and z = 0 to 1.
   <br />
   POS=[.1, .1, 1, 1, 0, 1]
   <br />
   ; Make the stacked contours. Use 10 contour levels.
   <br />
   CONTOUR, Z, /T3D, NLEVELS=10, /NOCLIP, POSIT=POS, CHARSIZE=2
   <br />
   ; Swap y and z axes. The original xyz system is now xzy:
   <br />
   T3D, /YZEXCH
   <br />
   ; Plot the column sums in front of the contour plot:
   <br />
   PLOT, Z#REPLICATE(1., NY), /NOERASE, /NOCLIP, /T3D, $
   <br />
   &#160;&#160;&#160;TITLE='COLUMN SUMS', POSITION = POS, CHARSIZE = 2
   <br />
   ; Swap x and z—original xyz is now yzx:
   <br />
   T3D, /XZEXCH
   <br />
   ; Plot the row sums along the right side of the contour plot:
   <br />
   PLOT, REPLICATE(1., NX)#Z, /NOERASE, /T3D, /NOCLIP, $
   <br />
   &#160;&#160;&#160;TITLE = 'ROW SUMS', POSITION = POS, CHARSIZE = 2
  </p>
  <p>
   &#160;
  </p>
  <p class="ExampleCode" madcap:autonum="&lt;b&gt;Example Code: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Example Code:
     </b>
    </span>
   </span>
   To execute this example, run the batch file
   <span class="Courier">
    cntour06
    <a name="kanchor2341">
    </a>
   </span>
   with the following command at the IDL prompt:
   <br />
   &#160;&#160;&#160;
   <span class="Courier">
    @cntour06
   </span>
  </p>
  <h2 class="API">
   <a name="dg_routines_3604229493_884793">
   </a>
   <a name="dg_routines_3604229493_787117_PageTOC_SCALE3_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       Pre-4.0
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="dg_routines_3604229493_884801">
   </a>
   <a name="dg_routines_3604229493_1110246_PageTOC_SCALE3_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="SCALE3D_Procedure.html#dg_routines_3604229493_884847">
    SCALE3D Procedure
   </a>
   ,
   <a class="MCXref_Heading_0" href="SURFACE_Procedure.html#dg_routines_3604229493_886816" target="" title="" alt="">
    SURFACE Procedure
   </a>
   ,
   <a class="MCXref_Heading_0" href="SURFR_Procedure.html#dg_routines_3604229493_887277" target="" title="" alt="">
    SURFR Procedure
   </a>
   ,
   <a class="MCXref_Heading_0" href="../T/T3D_Procedure.html#dg_routines_3604229493_887435">
    T3D Procedure
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>