<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: Q" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   QGRID3
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/Q/QGRID3.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="Q_list.html">
    Routines: Q
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    QGRID3
   </span>
  </div>
  <h1 class="Routine">
   <a name="Q_815714925_1118542">
   </a>
   <a name="Q_815714925_48374">
   </a>
   QGRID3
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#Q_815714925_1073288">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#Q_815714925_1073292">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#Q_815714925_1073294">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#Q_815714925_1073301">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#Q_815714925_1073311">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#Q_815714925_1123048">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#Q_815714925_1076445">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor2132">
   </a>
   QGRID3 function linearly interpolates
   <a name="kanchor2133">
   </a>
   the dependent variable values to points in a regularly sampled volume. Its inputs are a triangulation
   <a name="kanchor2134">
   </a>
   of scattered data points in three dimensions, and the value of a dependent variable for each point.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   QGRID3 accepts complex input but only utilizes the real part of any complex number.
  </p>
  <h2 class="API">
   <a name="Q_815714925_1073288">
   </a>
   <a name="Q_815714925_1073288_PageTOC_QGRID3_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = QGRID3(&#160;
   <i>
    XYZ
   </i>
   ,
   <i>
    F
   </i>
   ,
   <i>
    Tetrahedra
   </i>
   [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073303">
    DELTA
   </a>
   =
   <i>
    vector
   </i>
   &#160;] [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073305">
    DIMENSION
   </a>
   =
   <i>
    vector
   </i>
   &#160;] [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073307">
    MISSING
   </a>
   =
   <i>
    value
   </i>
   &#160;] [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073309">
    START
   </a>
   =
   <i>
    vector
   </i>
   &#160;]&#160;)
  </p>
  <p>
   or
  </p>
  <p class="Syntax">
   <i>
    Result
   </i>
   = QGRID3(&#160;
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   ,
   <i>
    Z
   </i>
   ,
   <i>
    F
   </i>
   ,
   <i>
    Tetrahedra
   </i>
   [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073303">
    DELTA
   </a>
   =
   <i>
    array
   </i>
   &#160;] [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073305">
    DIMENSION
   </a>
   =
   <i>
    array
   </i>
   &#160;] [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073307">
    MISSING
   </a>
   =
   <i>
    value
   </i>
   &#160;] [,&#160;
   <a class="MCXref_Heading_0" href="#Q_815714925_1073309">
    START
   </a>
   =
   <i>
    array
   </i>
   &#160;]&#160;)
  </p>
  <h2 class="API">
   <a name="Q_815714925_1073292">
   </a>
   <a name="Q_815714925_1073292_PageTOC_QGRID3_">
   </a>
   Return Value
  </h2>
  <p>
   <i>
    Result
   </i>
   is a 3-dimensional array of either single or double precision floating type, of the specified dimensions.
  </p>
  <h2 class="API">
   <a name="Q_815714925_1073294">
   </a>
   <a name="Q_815714925_1073294_PageTOC_QGRID3_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   XYZ
  </h3>
  <p>
   This is a 3-by-
   <i>
    n
   </i>
   array containing the scattered points.
  </p>
  <h3 class="Argument">
   X, Y, Z
  </h3>
  <p>
   One-dimensional vectors containing the
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and
   <i>
    Z
   </i>
   point coordinates.
  </p>
  <h3 class="Argument">
   F
  </h3>
  <p>
   The function value at each location in the form of an
   <i>
    n
   </i>
   -element vector.
  </p>
  <h3 class="Argument">
   Tetrahedra
  </h3>
  <p>
   A longword array containing the
   <i>
   </i>
   point indices of each tetrahedron, as created by QHULL.
  </p>
  <h2 class="API">
   <a name="Q_815714925_1073301">
   </a>
   <a name="Q_815714925_1073301_PageTOC_QGRID3_">
   </a>
   Keywords
  </h2>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Any of the keywords may be set to a scalar if all elements are the same.
  </p>
  <h3 class="Keyword">
   <a name="Q_815714925_1073303">
   </a>
   <a name="Q_815714925_1073303_Keywords_QGRID3__">
   </a>
   DELTA
  </h3>
  <p>
   A scalar or three element array specifying the grid spacing in
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and
   <i>
    Z
   </i>
   . If this keyword is not specified, it is set to create a grid of DIMENSION cells, enclosing the volume from START to [max(
   <i>
    x
   </i>
   ), max(
   <i>
    y
   </i>
   ), max(
   <i>
    z
   </i>
   )].
  </p>
  <h3 class="Keyword">
   <a name="Q_815714925_1073305">
   </a>
   <a name="Q_815714925_1073305_Keywords_QGRID3__">
   </a>
   DIMENSION
  </h3>
  <p>
   A three-element array specifying the grid dimensions in
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and
   <i>
    Z
   </i>
   . If only one or two elements are supplied, the first element is used for the missing elements. The dimensions must be greater than or equal to 2. If an element is less than 2, the default value of 25 is used for that dimension.
  </p>
  <h3 class="Keyword">
   <a name="Q_815714925_1073307">
   </a>
   <a name="Q_815714925_1073307_Keywords_QGRID3__">
   </a>
   MISSING
  </h3>
  <p>
   The value to be used for grid points that lie outside the convex hull of the scattered points. The default is 0.
  </p>
  <h3 class="Keyword">
   <a name="Q_815714925_1073309">
   </a>
   <a name="Q_815714925_1073309_Keywords_QGRID3__">
   </a>
   START
  </h3>
  <p>
   A three element array specifying the start of the grid in
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and
   <i>
    Z
   </i>
   . Default value is [min(
   <i>
    x
   </i>
   ), min(
   <i>
    y
   </i>
   ), min(
   <i>
    z
   </i>
   )].
  </p>
  <h2 class="API">
   <a name="Q_815714925_1073311">
   </a>
   <a name="Q_815714925_1073311_PageTOC_QGRID3_">
   </a>
   Examples
  </h2>
  <h3>
   <a name="Q_815714925_1078955_Keywords_QGRID3__">
   </a>
   Example 1
  </h3>
  <p>
   This example interpolates a data set measured on an irregular grid.
  </p>
  <p class="Code">
   ; Create a dataset of N points.
   <br />
   n = 200
   <br />
   x = RANDOMU(seed, n)
   <br />
   y = RANDOMU(seed, n)
   <br />
   z = RANDOMU(seed, n)
   <br />
   <br />
   ; Create dependent variable.
   <br />
   f = x^2 - x*y + z^2 + 1
   <br />
   <br />
   ; Obtain a tetrahedra using the QHULL procedure.
   <br />
   QHULL, x, y, z, tet, /DELAUNAY
   <br />
   <br />
   ; Create a volume with dimensions [51,&#160;51,&#160;51]
   <br />
   ; over the unit cube.
   <br />
   volume = QGRID3(x, y, z, f, tet, START=0, DIMENSION=51, $
   <br />
   &#160;&#160;&#160;DELTA=0.02)
   <br />
   <br />
   ; Display the volume.
   <br />
   XVOLUME, BYTSCL(volume)
  </p>
  <h3>
   Example 2
  </h3>
  <p>
   This example is similar to the previous one, however in this example we use a [3,
   <i>
    n
   </i>
   ] array of points.
  </p>
  <p class="Code">
   ; Create a dataset of N points.
   <br />
   n = 200
   <br />
   p = RANDOMU(seed, 3, n)
   <br />
   <br />
   ; Create dependent variable.
   <br />
   f = p[0,*]^2 - p[0,*]*p[1,*] + p[2,*]^2 + 1
   <br />
   <br />
   ; Obtain a tetrahedra.
   <br />
   QHULL, p, tet, /DELAUNAY
   <br />
   <br />
   ; Create a volume with dimensions [51,&#160;51,&#160;51] over the unit cube.
   <br />
   volume = QGRID3(p, f, tet, START=0, DIMENSION=51, DELTA=0.02)
   <br />
   <br />
   ; Display the volume.
   <br />
   XVOLUME, BYTSCL(volume)
  </p>
  <h3>
   <a name="Q_815714925_1073349_Keywords_QGRID3__">
   </a>
   <a name="Q_815714925_1073349_PageTOC_QGRID3_">
   </a>
   Example 3
  </h3>
  <p>
   The following example uses the data from the
   <span class="Courier">
    irreg_grid2.txt
   </span>
   ASCII file. This file contains scattered three-dimensional data. This file contains bore hole data for a square mile of land; the bore hole samples were roughly taken diagonally from the upper left corner of the square to the lower right corner.
  </p>
  <p>
   The QHULL procedure is used to triangulate the three-dimensional locations. The QGRID3 function uses the results from QHULL to grid the data into a volume, which we display in the IVOLUME tool.
  </p>
  <p class="Code">
   ; Determine the path to the file.
   <br />
   file = FILEPATH('irreg_grid2.txt', $
   <br />
   &#160;&#160;&#160;SUBDIRECTORY = ['examples', 'data'])
   <br />
   <br />
   ; Import the data from the file into a structure.
   <br />
   dataStructure = READ_ASCII(file)
   <br />
   <br />
   ; Get the imported array from the first field of
   <br />
   ; the structure.
   <br />
   dataArray = TRANSPOSE(dataStructure.field1)
   <br />
   <br />
   ; Initialize the variables of this example from
   <br />
   ; the imported array.
   <br />
   x = dataArray[*, 0]
   <br />
   y = dataArray[*, 1]
   <br />
   z = dataArray[*, 2]
   <br />
   data = dataArray[*, 3]
   <br />
   <br />
   ; Determine number of data points.
   <br />
   nPoints = N_ELEMENTS(data)
   <br />
   <br />
   ; Triangulate the Data with QHULL:
   <br />
   <br />
   ; Construct the convex hulls of the volume.
   <br />
   QHULL, x, y, z, tetrahedra, /DELAUNAY
   <br />
   <br />
   ; Initialize volume parameters.
   <br />
   cubeSize = [51, 51, 51]
   <br />
   ; Grid the data into a volume.
   <br />
   volume = QGRID3(x, y, z, data, tetrahedra, START = 0, $
   <br />
   &#160;&#160;&#160;DIMENSION = cubeSize, DELTA = 0.02)
   <br />
   <br />
   ; Display the results in the IVOLUME utility.
   <br />
   IVOLUME, volume
  </p>
  <p class="Code">
   &#160;
  </p>
  <p>
   Click
   <span class="Bold">
    Render
   </span>
   to display the volume data.
  </p>
  <p>
   Derive the isosurface for mineral deposits with the data value of 2.5:
  </p>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      1.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="1. " valign="top">
     Select
     <span class="Bold">
      Operations
     </span>
     &#160;&gt;&#160;
     <span class="Bold">
      Volume
     </span>
     &#160;&gt;&#160;
     <span class="Bold">
      Isosurface
     </span>
     from the iVolume tool menu.
    </td>
   </tr>
  </table>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      2.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="2. " valign="top">
     Set the data value to 2.5
    </td>
   </tr>
  </table>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      3.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="3. " valign="top">
     Set the Mesh quality to 60%.
    </td>
   </tr>
  </table>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      4.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="4. " valign="top">
     Click OK.
    </td>
   </tr>
  </table>
  <p>
   Alternately, execute the following statements at the IDL command line to display the isosurface:
  </p>
  <p class="Code">
   IVOLUME, volume
   <br />
   id = igetcurrent(TOOL=oTool)
   <br />
   idIso = oTool-&gt;FindIdentifiers('*Isosurface*', /OPERATIONS)
   <br />
   success=oTool-&gt;DoSetProperty(idIso, 'DECIMATE', 60)
   <br />
   success=oTool-&gt;DoSetProperty(idIso, '_ISOVALUE0', 2.5)
   <br />
   success=oTool-&gt;DoSetProperty(idIso, 'SHOW_EXECUTION_UI', 0)
   <br />
   success=oTool-&gt;DoAction(idIso)
  </p>
  <h2 class="API">
   <a name="Q_815714925_1123048">
   </a>
   <a name="Q_815714925_1073438_PageTOC_QGRID3_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       5.5
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="Q_815714925_1076445">
   </a>
   <a name="Q_815714925_1076445_PageTOC_QGRID3_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="QHULL.html#Q_815714925_1073444">
    QHULL
   </a>
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>