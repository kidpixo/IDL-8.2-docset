<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: Q" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   QUERY_ASCII
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/Q/QUERY_ASCII.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="Q_list.html">
    Routines: Q
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    QUERY_ASCII
   </span>
  </div>
  <h1 class="Routine">
   <a name="Q_815714925_1045490">
   </a>
   <a name="Q_815714925_82123">
   </a>
   QUERY_ASCII
  </h1>
  <p>
   The
   <a name="kanchor2151">
   </a>
   QUERY_ASCII function tests a file for compatibility with
   <a class="MCXref_Heading_0" href="../R/READ_ASCII.html#R_822202989_956701" target="" title="" alt="">
    READ_ASCII
   </a>
   and returns an optional structure containing information about the file.
  </p>
  <p>
   This routine is written in the IDL language. Its source code can be found in the file
   <span class="Courier">
    query_ascii.pro
   </span>
   in the
   <span class="Courier">
    lib
   </span>
   subdirectory of the IDL distribution.
  </p>
  <h2 class="API">
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = QUERY_ASCII(
   <i>
    Filename
   </i>
   [,&#160;
   <i>
    Info
   </i>
   ] )
  </p>
  <h2 class="API">
   Return Value
  </h2>
  <p>
   This routine returns a long integer with the value of 1 (one) if the query was successful (and the file type was correct) or 0 (zero) on failure. The following criteria are used to decide whether a file is a valid ASCII file:
  </p>
  <p class="Bullet">
   If 80% of the first 32768 bytes in the file are valid ASCII characters, then the file is considered to be valid
  </p>
  <p class="Bullet">
   Byte values in the range 7-13 (bell, backspace, horizontal tab, line feed, vertical tab, form feed, carriage return) or in the range 32-127 (standard characters) are considered valid ASCII characters
  </p>
  <p>
   These criteria provide an efficient and robust method to filter ASCII files from non-ASCII files. The 80% figure lets an ASCII file have a certain number of non-ASCII characters, perhaps in a header portion or for special characters such as fractions or symbols.
  </p>
  <h2 class="API">
   Arguments
  </h2>
  <h3 class="Argument">
   Filename
  </h3>
  <p>
   A scalar string containing the full pathname of the file to query.
  </p>
  <h3 class="Argument">
   Info
  </h3>
  <p>
   A named variable in which to return an anonymous structure containing information about the file. This structure is valid only when the return value of the function is 1. The structure has the following fields:
  </p>
  <table style="width: 432px;caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Description.css');" cellspacing="0" class="TableStyle_Description">
   <caption valign="bottom" style="padding-bottom: 12pt;">
   </caption>
   <p class="TableTitle">
    The Info Argument’s Anonymous Structure
   </p>
   <col width="120px" />
   <col width="120px" />
   <col width="192px" />
   <thead>
    <tr>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       Field
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       IDL Type
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
      <p>
       Description
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       NAME
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       <b>
        String
       </b>
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       File name, including full path
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       TYPE
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       <b>
        String
       </b>
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
      <p>
       File format (always
       <span class="Courier">
        'ASCII'
       </span>
       )
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       BYTES
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       Long64
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       File length in bytes
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       LINES
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       Long64
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
      <p>
       Number of lines
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
      <p>
       WORDS
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
      <p>
       Long64
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
      <p>
       Number of words
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   For the WORDS field, words are assumed to be separated by whitespace, including carriage returns, line feeds, tabs, and spaces.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   IDL uses the file’s first 32768 characters to determine whether it is ASCII or not. If the file is valid, IDL processes the remainder of the file and fills in the
   <i>
    Info
   </i>
   structure for the complete file. If the file is not valid, IDL does not modify the
   <i>
    Info
   </i>
   variable.
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   If you have a data file that contains only columns of data (without any header lines), the number of words (WORDS) divided by the number of lines (LINES) should give you the number of columns.
  </p>
  <h2 class="API">
   Keywords
  </h2>
  <p>
   None
  </p>
  <h2 class="API">
   Example
  </h2>
  <p>
   Use the following code to retrieve information from a text file:
  </p>
  <p class="Code">
   file = FILEPATH( "irreg_grid1.txt", $
   <br />
   &#160;&#160;&#160;SUBDIRECTORY=['examples','data'] )
   <br />
   result = QUERY_ASCII( file, info )
   <br />
   if (result) then HELP, info, /STRUCTURES $
   <br />
   &#160;&#160;&#160;else PRINT, 'File not found or is not a valid ASCII file.'
  </p>
  <h2 class="API">
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       6.2
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../A/ASCII_TEMPLATE.html#A_850317933_983117">
    ASCII_TEMPLATE
   </a>
   ,
   <a class="MCXref_Heading_0" href="../R/READ_ASCII.html#R_822202989_956701" target="" title="" alt="">
    READ_ASCII
   </a>
   ,
   <a class="MCXref_Heading_0" href="../R/READ_CSV.html#R_822202989_1233548" target="" title="" alt="">
    READ_CSV
   </a>
   ,
   <a class="MCXref_Heading_0" href="QUERY_CSV.html#Q_815714925_1125522">
    QUERY_CSV
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>