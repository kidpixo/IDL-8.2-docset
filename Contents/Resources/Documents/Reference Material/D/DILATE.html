<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: D" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   DILATE
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/D/DILATE.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="D_list.html">
    Routines: D
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    DILATE
   </span>
  </div>
  <h1 class="Routine">
   <a name="D_843829869_747869">
   </a>
   <a name="D_843829869_30529">
   </a>
   DILATE
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#D_843829869_984587">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#D_843829869_1003266">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#D_843829869_984605">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#D_843829869_984612">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#D_843829869_676649">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#D_843829869_990013">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#D_843829869_997357">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor689">
   </a>
   DILATE function implements the
   <a name="kanchor690">
   </a>
   morphologic
   <a name="kanchor691">
   </a>
   dilation operator on both binary and grayscale images
  </p>
  <h3>
   <a name="D_843829869_1002920">
   </a>
   <a name="D_843829869_984597_PageTOC_DILATE_">
   </a>
   <a name="D_843829869_24115">
   </a>
   Using DILATE
  </h3>
  <p>
   Mathematical morphology is a method of processing digital images on the basis of shape. A discussion of this topic is beyond the scope of this manual. A suggested reference is: Haralick, Sternberg, and Zhuang, “Image Analysis Using Mathematical Morphology,”
   <i>
    IEEE Transactions on Pattern Analysis and Machine Intelligence
   </i>
   , Vol. PAMI-9, No. 4, July, 1987, pp. 532-550. Much of this discussion is taken from that article.
  </p>
  <p>
   Briefly, the DILATE function returns the dilation of
   <i>
    Image
   </i>
   by the
   <a name="kanchor692">
   </a>
   structuring element
   <i>
    Structure
   </i>
   . This operator is commonly known as “fill”, “expand”, or “grow.” It can be used to fill “holes” of a size equal to or smaller than the structuring element.
  </p>
  <p>
   Used with binary images, where each pixel is either 1 or 0, dilation is similar to convolution. Over each pixel of the image, the origin of the structuring element is overlaid. If the image pixel is nonzero, each pixel of the structuring element is added to the result using the “or” operator.
  </p>
  <p>
   Letting
   <i>
    A
   </i>
   <span class="Symbol">
    Å
   </span>
   <i>
    B
   </i>
   represent the dilation of an image
   <i>
    A
   </i>
   by structuring element
   <i>
    B
   </i>
   , dilation can be defined as:
  </p>
  <p>
   <img src="../../images/10_2.jpg" />
  </p>
  <p>
   where
   <i>
    (A)
   </i>
   <sub>
    b
   </sub>
   represents the translation of
   <i>
    A
   </i>
   by
   <i>
    b
   </i>
   . Intuitively, for each nonzero element
   <i>
    b
   </i>
   <sub class="italic">
    i,j
   </sub>
   of
   <i>
    B
   </i>
   ,
   <i>
    A
   </i>
   is translated by
   <i>
    i,j
   </i>
   and summed into
   <i>
    C
   </i>
   using the “or” operator. For example:
  </p>
  <p>
   <img src="../../images/10_4.jpg" />
  </p>
  <p>
   In this example, the origin of the structuring element is at (0,0).
  </p>
  <p>
   Used with grayscale images, which are always converted to byte type, the DILATE function is accomplished by taking the maximum of a set of sums. It can be used to conveniently implement the neighborhood maximum operator with the shape of the neighborhood given by the structuring element.
  </p>
  <h4>
   <a name="kanchor693">
   </a>
   Openings and Closings
  </h4>
  <p>
   The
   <i>
    opening
   </i>
   of image
   <i>
    B
   </i>
   by structuring element
   <i>
    K
   </i>
   is defined as (
   <i>
    B
   </i>
   <span class="Symbol">
    Ä
   </span>
   <i>
    K
   </i>
   )
   <span class="Symbol">
    Å
   </span>
   <i>
    K
   </i>
   . The
   <i>
    closing
   </i>
   of image
   <i>
    B
   </i>
   by
   <i>
    K
   </i>
   is defined as (
   <i>
    B
   </i>
   <span class="Symbol">
    Å
   </span>
   <i>
    K
   </i>
   )
   <span class="Symbol">
    Ä
   </span>
   <i>
    K
   </i>
   where the
   <span class="Symbol">
    Ä
   </span>
   symbol represents the erosion operator implemented by the IDL ERODE function.
  </p>
  <p>
   As stated by Haralick
   <i>
    et al
   </i>
   , the result of iteratively applied dilations and erosions is an elimination of specific image detail smaller than the structuring element without the global geometric distortion of unsuppressed features. For example, opening an image with a disk structuring element smooths the contour, breaks narrow isthmuses, and eliminates small islands and sharp peaks or capes.
  </p>
  <p>
   <a name="kanchor694">
   </a>
   Closing an image with a disk structuring element smooths the contours, fuses narrow breaks and long thin gulfs, eliminates small holes, and fills gaps on the contours.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   MORPH_OPEN and MORPH_CLOSE can also be used to perform these tasks.
  </p>
  <h2 class="API">
   <a name="D_843829869_984587">
   </a>
   <a name="D_843829869_984587_PageTOC_DILATE_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = DILATE(
   <i>
    Image
   </i>
   ,
   <i>
    Structure
   </i>
   [,&#160;
   <i>
    X
   </i>
   <sub class="italic">
    0
   </sub>
   [,&#160;
   <i>
    Y
   </i>
   <sub class="italic">
    0
   </sub>
   [,&#160;
   <i>
    Z
   </i>
   <sub class="italic">
    0
   </sub>
   ]]] [,&#160;/
   <a class="MCXref_Heading_0" href="#D_843829869_984770">
    CONSTRAINED
   </a>
   [,&#160;
   <a class="MCXref_Heading_0" href="#D_843829869_984751">
    BACKGROUND
   </a>
   =
   <i>
    value
   </i>
   ]] [,&#160;/
   <a class="MCXref_Heading_0" href="#D_843829869_984614">
    GRAY
   </a>
   [,&#160;/
   <a class="MCXref_Heading_0" href="#D_843829869_984778">
    PRESERVE_TYPE
   </a>
   | ,&#160;/
   <a class="MCXref_Heading_0" href="#D_843829869_984780">
    UINT
   </a>
   | ,&#160;/
   <a class="MCXref_Heading_0" href="#D_843829869_984782">
    ULONG
   </a>
   ]] [,&#160;
   <a class="MCXref_Heading_0" href="#D_843829869_984617">
    VALUES
   </a>
   =
   <i>
    array
   </i>
   ] )
  </p>
  <h2 class="API">
   <a name="D_843829869_1003266">
   </a>
   <a name="D_843829869_46535">
   </a>
   Return Value
  </h2>
  <p>
   The DILATE function returns the dilation of
   <i>
    Image
   </i>
   by the structuring element
   <i>
    Structure
   </i>
   .
  </p>
  <h2 class="API">
   <a name="D_843829869_984605">
   </a>
   <a name="D_843829869_984605_PageTOC_DILATE_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   Image
  </h3>
  <p>
   A one-, two-, or three-dimensional array upon which the dilation is to be performed. If the parameter is not of byte type, a temporary byte copy is obtained. If neither of the keywords GRAY or VALUES is present, the image is treated as a binary image with all nonzero pixels considered as 1.
  </p>
  <h3 class="Argument">
   Structure
  </h3>
  <p>
   A one-, two-, or three-dimensional array that represents the structuring element. Elements are interpreted as binary: values are either zero or nonzero. This argument must have the same number of dimensions as
   <i>
    Image
   </i>
   .
  </p>
  <h3 class="Argument">
   X
   <sub class="italic">
    0
   </sub>
   , Y
   <sub class="italic">
    0
   </sub>
   , Z
   <sub class="italic">
    0
   </sub>
  </h3>
  <p>
   Optional parameters specifying the one-, two-, or three-dimensional coordinate of the structuring element’s origin. If omitted, the origin is set to the center, ([
   <i>
    N
   </i>
   <sub class="italic">
    x
   </sub>
   /2], [
   <i>
    N
   </i>
   <sub class="italic">
    y
   </sub>
   /2], [
   <i>
    N
   </i>
   <sub class="italic">
    z
   </sub>
   /2]), where
   <i>
    N
   </i>
   <sub class="italic">
    x
   </sub>
   ,
   <i>
    N
   </i>
   <sub class="italic">
    y
   </sub>
   , and
   <i>
    N
   </i>
   <sub class="italic">
    z
   </sub>
   are the dimensions of the structuring element array. The origin need not be within the structuring element.
  </p>
  <h2 class="API">
   <a name="D_843829869_984612">
   </a>
   <a name="D_843829869_984612_PageTOC_DILATE_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="D_843829869_984751">
   </a>
   <a name="D_843829869_984751_Keywords_DILATE__">
   </a>
   BACKGROUND
  </h3>
  <p>
   Set this keyword to the pixel value that is to be considered the background when dilation is being performed in constrained mode. The default value is 0.
  </p>
  <h3 class="Keyword">
   <a name="D_843829869_984770">
   </a>
   <a name="D_843829869_984770_Keywords_DILATE__">
   </a>
   CONSTRAINED
  </h3>
  <p>
   If this keyword is set and grayscale dilation has been selected, the dilation algorithm will operate in constrained mode. In this mode, a pixel is set to the value determined by normal grayscale dilation rules in the output image only if the current value destination pixel value matches the BACKGROUND pixel value. Once a pixel in the output image has been set to a value other than the BACKGROUND value, it cannot change.
  </p>
  <h3 class="Keyword">
   <a name="D_843829869_984614">
   </a>
   <a name="D_843829869_984614_Keywords_DILATE__">
   </a>
   GRAY
  </h3>
  <p>
   Set this keyword to perform grayscale, rather than binary, dilation. The nonzero elements of the
   <i>
    Structure
   </i>
   parameter determine the shape of the structuring element (neighborhood). If VALUES is not present, all elements of the structuring element are 0, yielding the neighborhood maximum operator.
  </p>
  <h3 class="Keyword">
   <a name="D_843829869_984778">
   </a>
   <a name="D_843829869_984778_Keywords_DILATE__">
   </a>
   PRESERVE_TYPE
  </h3>
  <p>
   Set this keyword to return the same type as the input array. This keyword only applies if the GRAY keyword is set.
  </p>
  <h3 class="Keyword">
   <a name="D_843829869_984780">
   </a>
   <a name="D_843829869_984780_Keywords_DILATE__">
   </a>
   UINT
  </h3>
  <p>
   Set this keyword to return an unsigned integer array. This keyword only applies if the GRAY keyword is set.
  </p>
  <h3 class="Keyword">
   <a name="D_843829869_984782">
   </a>
   <a name="D_843829869_984782_Keywords_DILATE__">
   </a>
   ULONG
  </h3>
  <p>
   Set this keyword to return an unsigned longword integer array. This keyword only applies if the GRAY keyword is set.
  </p>
  <h3 class="Keyword">
   <a name="D_843829869_984617">
   </a>
   <a name="D_843829869_984617_Keywords_DILATE__">
   </a>
   VALUES
  </h3>
  <p>
   An array with the same dimensions as
   <i>
    Structure
   </i>
   providing the values of the structuring element. The presence of this parameter implies grayscale dilation. Each pixel of the result is the maximum of the sum of the corresponding elements of VALUE and the
   <i>
    Image
   </i>
   pixel value. If the resulting sum is greater than 255, the return value is 255.
  </p>
  <h2 class="API">
   <a name="D_843829869_676649">
   </a>
   <a name="D_843829869_676649_PageTOC_DILATE_">
   </a>
   Examples
  </h2>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Also see “Eroding and Dilating Image Objects” (Chapter 9,
   <i>
    Image Processing in IDL
   </i>
   ) in the
   <code>
    help/pdf
   </code>
   directory of your IDL installation.
  </p>
  <h3>
   <a name="D_843829869_676650_Keywords_DILATE__">
   </a>
   Example 1
  </h3>
  <p>
   This example thresholds a gray scale image at the value of 100, producing a binary image. The result is then “opened” with a 3 pixel by 3 pixel square shape operator, using the DILATE and ERODE operators. The effect is to remove holes, islands, and peninsula smaller than the shape operator:
  </p>
  <p class="Code">
   ; Threshold and make binary image:
  </p>
  <p class="Code">
   B = A GE 100
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Create the shape operator:
  </p>
  <p class="Code">
   S = REPLICATE(1, 3, 3)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; "Opening" operator:
  </p>
  <p class="Code">
   C = DILATE(ERODE(B, S), S)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Show the result:
  </p>
  <p class="Code">
   TVSCL, C
  </p>
  <p class="Code">
   &#160;
  </p>
  <h3>
   <a name="D_843829869_989855_Keywords_DILATE__">
   </a>
   Example 2
  </h3>
  <p>
   For grayscale images, DILATE takes the neighborhood maximum, where the shape of the neighborhood is given by the structuring element. Elements for which the structuring element extends off the array are indeterminate. For example, assume you have the following image and structuring element:
  </p>
  <p class="Code">
   image = BYTE([2,1,3,3,3,3,1,2])
  </p>
  <p class="Code">
   s = [1,1]
  </p>
  <p>
   If the origin of the structuring element is not specified in the call to DILATE, the origin defaults to one half the width of the structuring element, which is 1 in this case. Therefore, for the first element in the image array, the structuring element is aligned with the image as depicted below:
  </p>
  <p>
   <img src="../../images/dilate01.gif" style="margin-left: 64.80432px;margin-top: 1.59192px;margin-right: 1.123932px;margin-bottom: 0.5875233px;" />
  </p>
  <p>
   This will cause an indeterminate value for the first element in the DILATE result. If edge values are important, you must pad the image with as many zeros as there are elements in the structuring element that extend off the array, in all dimensions. In this case, you would need to pad the image with a single leading zero. If the structuring element were
   <span class="Courier">
    s=[1,1,1,1]
   </span>
   , and you specified an origin of 2, the structuring element would align with the image as follows:
  </p>
  <p>
   <img src="../../images/dilate02.gif" style="margin-left: 58.27392px;margin-right: 0.8690376px;margin-bottom: 0.4953625px;" />
  </p>
  <p>
   Therefore, you would need to pad the image with at least two leading zeros and at least one trailing zero. You would then perform the dilation operation on the padded image, and remove the padding from the result.
  </p>
  <p>
   The following code illustrates this method:
  </p>
  <p class="Code">
   image = BYTE([2,1,3,3,3,3,1,2])
   <br />
   s = [1,1] ; Structuring element
   <br />
   PRINT, 'Image: '
   <br />
   PRINT, image
   <br />
   <br />
   PRINT, 'Dilation using no padding: '
   <br />
   PRINT, DILATE(image, s, /GRAY)
   <br />
   <br />
   result = DILATE([0, image], s, /GRAY)
   <br />
   PRINT, 'Dilation using padding: '
   <br />
   PRINT, result[1:N_ELEMENTS(image)]
   <br />
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   Image:
  </p>
  <p class="Code">
   2   1   3   3   3   3   1   2
  </p>
  <p class="Code">
   Dilation using no padding:
  </p>
  <p class="Code">
   1   3   3   3   3   3   2   2
  </p>
  <p class="Code">
   Dilation using padding:
  </p>
  <p class="Code">
   2   3   3   3   3   3   2   2
  </p>
  <h2 class="API">
   <a name="D_843829869_990013">
   </a>
   <a name="D_843829869_990013_PageTOC_DILATE_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       Pre 4.0
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="D_843829869_997357">
   </a>
   <a name="D_843829869_997357_PageTOC_DILATE_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../E/ERODE.html#E_841667181_989418" target="" title="" alt="">
    ERODE
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_CLOSE.html#M_824365677_1117238">
    MORPH_CLOSE
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_DISTANCE.html#M_824365677_948885">
    MORPH_DISTANCE
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_GRADIENT.html#M_824365677_948880">
    MORPH_GRADIENT
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_HITORMISS.html#M_824365677_930030">
    MORPH_HITORMISS
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_OPEN.html#M_824365677_930051">
    MORPH_OPEN
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_THIN.html#M_824365677_930961">
    MORPH_THIN
   </a>
   ,
   <a class="MCXref_Heading_0" href="../M/MORPH_TOPHAT.html#M_824365677_930077">
    MORPH_TOPHAT
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>