<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: T" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   TOTAL
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/T/TOTAL.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="T_list.html">
    Routines: T
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    TOTAL
   </span>
  </div>
  <h1 class="Routine">
   <a name="T_809226861_1069724">
   </a>
   <a name="T_809226861_10747">
   </a>
   TOTAL
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#T_809226861_679444">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#T_809226861_1094880">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#T_809226861_679446">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#T_809226861_835043">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#T_809226861_1068815">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#T_809226861_35965">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#T_809226861_1086493">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor2559">
   </a>
   TOTAL function returns the
   <a name="kanchor2560">
   </a>
   sum of the elements of
   <i>
    Array
   </i>
   . The sum of the array elements over a given dimension is returned if the
   <i>
    Dimension
   </i>
   argument is present.
  </p>
  <h2 class="API">
   <a name="T_809226861_679444">
   </a>
   <a name="T_809226861_679444_PageTOC_TOTAL_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = TOTAL(
   <i>
    Array
   </i>
   [,&#160;
   <i>
    Dimension
   </i>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#T_809226861_1070565">
    CUMULATIVE
   </a>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#T_809226861_1070569">
    DOUBLE
   </a>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#T_809226861_1115757">
    INTEGER
   </a>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#T_809226861_47220">
    NAN
   </a>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#T_809226861_1116699">
    PRESERVE_TYPE
   </a>
   ] )
  </p>
  <h2 class="API">
   <a name="T_809226861_1094880">
   </a>
   <a name="T_809226861_75353">
   </a>
   Return Value
  </h2>
  <p>
   Returns the array sum for the specified dimensions.
  </p>
  <h2 class="API">
   <a name="T_809226861_679446">
   </a>
   <a name="T_809226861_679446_PageTOC_TOTAL_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   Array
  </h3>
  <p>
   The array to be summed. This array can be of any basic type except string. If
   <i>
    Array
   </i>
   is double-precision floating-point, complex, or double-precision complex, the result is of the same type. Otherwise, the result is single-precision floating-point.
  </p>
  <h3 class="Argument">
   Dimension
  </h3>
  <p>
   The dimension over which to sum, starting at one. If this argument is not present or zero, the scalar sum of all the array elements is returned. If this argument is present, the result is an array with one less dimension than
   <i>
    Array
   </i>
   . For example, if the dimensions of
   <i>
    Array
   </i>
   are
   <i>
    N
   </i>
   <sub>
    1
   </sub>
   ,
   <i>
    N
   </i>
   <sub>
    2
   </sub>
   ,
   <i>
    N
   </i>
   <sub>
    3
   </sub>
   , and
   <i>
    Dimension
   </i>
   is 2, the dimensions of the result are (
   <i>
    N
   </i>
   <sub>
    1
   </sub>
   ,
   <i>
    N
   </i>
   <sub>
    3
   </sub>
   ), and element
   <i>
    (i,j)
   </i>
   of the result contains the sum:
  </p>
  <p>
   <img src="../../images/26_5.jpg" />
  </p>
  <h2 class="API">
   <a name="T_809226861_835043">
   </a>
   <a name="T_809226861_835043_PageTOC_TOTAL_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="T_809226861_1070565">
   </a>
   <a name="T_809226861_1070565_Keywords_TOTAL__">
   </a>
   CUMULATIVE
  </h3>
  <p>
   If this keyword is set, the result is an array of the same size as the input, with each element,
   <i>
    i
   </i>
   , containing the sum of the input array elements 0 to
   <i>
    i
   </i>
   . This keyword also works with the Dimension parameter, in which case the sum is performed over the given dimension. Note that if the input only has a single element, then a scalar is returned.
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   If the input array is a temporary variable or an expression, and the result type matches the input type (for example by using the PRESERVE_TYPE keyword), then TOTAL will perform the cumulative sum in place and no additional memory will be used.
  </p>
  <h3 class="Keyword">
   <a name="T_809226861_1070569">
   </a>
   <a name="T_809226861_1070569_Keywords_TOTAL__">
   </a>
   DOUBLE
  </h3>
  <p>
   Set this keyword to force the summation to be done using double-precision arithmetic. By default, if the input is of type DOUBLE, DCOMPLEX, LONG64, or ULONG64, IDL does the summation using double precision; otherwise IDL does the summation using single precision. If this keyword is set to zero, IDL still does the summation using the default precision, but the result is converted to single precision before returning.
  </p>
  <h3 class="Keyword">
   <a name="T_809226861_1115757">
   </a>
   <a name="T_809226861_47024">
   </a>
   INTEGER
  </h3>
  <p>
   Set this keyword to perform the TOTAL using integer arithmetic, and to return an integer result. If
   <i>
    Array
   </i>
   is of type ULONG64 then unsigned 64-bit integers are used for the computation and the Result is of type ULONG64, otherwise signed 64-bit integers are used and the Result is of type LONG64. If
   <i>
    Array
   </i>
   is complex and INTEGER is set, then only the real part of each value is used for the computation. The DOUBLE keyword is ignored if INTEGER is set.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   If
   <i>
    Array
   </i>
   has a large number of values or the values themselves are large, then the TOTAL with the INTEGER keyword may easily overflow the largest 64-bit integer and return an incorrect result. In this case you may want to avoid using the INTEGER keyword.
  </p>
  <h3 class="Keyword">
   <a name="T_809226861_47220">
   </a>
   <a name="T_809226861_47220_Keywords_TOTAL__">
   </a>
   NAN
  </h3>
  <p>
   Set this keyword to cause the routine to check for occurrences of the IEEE floating-point values
   <i>
    NaN
   </i>
   or
   <i>
    Infinity
   </i>
   in the input data. Elements with the value
   <i>
    NaN
   </i>
   or
   <i>
    Infinity
   </i>
   are treated as missing data.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Since the value NaN is treated as missing data, if
   <i>
    Array
   </i>
   contains only NaN values the TOTAL routine will return 0.
  </p>
  <h3 class="Keyword">
   <a name="T_809226861_1116699">
   </a>
   <a name="T_809226861_24517">
   </a>
   PRESERVE_TYPE
  </h3>
  <p>
   Set this keyword to perform the TOTAL using the input type, and to return a result of the same type. The DOUBLE and INTEGER keywords are ignored if PRESERVE_TYPE is set.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   For byte or integer data the TOTAL with PRESERVE_TYPE may easily overflow the largest value for that type. The PRESERVE_TYPE keyword is only useful if you know that your values will not overflow, or you want to exploit the overflow, for example in computing a checksum. Otherwise, you may want to use the INTEGER keyword instead.
  </p>
  <h3>
   <a name="T_809226861_1082151_PageTOC_TOTAL_">
   </a>
   Thread Pool Keywords
  </h3>
  <p>
   This routine is written to make use of IDL’s
   <i>
    thread pool
   </i>
   , which can increase execution speed on systems with multiple CPUs. The values stored in the !CPU system variable control whether IDL uses the thread pool for a given computation. In addition, you can use the thread pool keywords TPOOL_MAX_ELTS, TPOOL_MIN_ELTS, and TPOOL_NOTHREAD to override the defaults established by !CPU for a single invocation of this routine. See
   <a class="MCXref_Chapter_Reference_0" href="../../Creating IDL Programs/Appendices/tpoolkeyw.html#tpoolkeyw_2501860834_317209" target="" title="" alt="">
    Thread Pool Keywords
   </a>
   for details.
  </p>
  <p>
   The thread pool is used for non-cumulative sums, and is not used if the CUMULATIVE keyword is specified. In a cumulative sum, each result value depends on all of the previous results, so overlapped execution is not possible.
  </p>
  <p>
   You should be aware that when summing a large number of values, the result from TOTAL can depend heavily upon the order in which the numbers are added. Since the thread pool will add values in a different order, you may obtain a different — but equally correct — result than that obtained using the standard non-threaded implementation. This effect occurs because TOTAL uses floating point arithmetic, and the mantissa of a floating point value has a fixed number of significant digits. The effect is especially obvious when using single precision arithmetic, but can also affect double precision computations. Such differences do not mean that the sums are incorrect. Rather, they mean that they are equal within the ability of the floating point representation used to represent them. For more information on floating-point numbers, see
   <a class="MCXref_Heading_0" href="../../Creating IDL Programs/Components of the IDL Language/Accuracy_and_Floating_Po.html#constants_818058343_705345" target="" title="" alt="">
    Accuracy and Floating Point Operations
   </a>
   .
  </p>
  <p>
   It is also worth noting that this effect, while illustrated by the use of the thread pool, is not caused by the use of threading. It is simply caused by the different order in which the numbers are summed, as can be illustrated by the following non-threaded example:
  </p>
  <p class="Code">
   vec = FINDGEN(100000)
  </p>
  <p class="Code">
   PRINT, TOTAL(vec, /TPOOL_NO) - TOTAL(REVERSE(vec), /TPOOL_NO)
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   -96768.0
  </p>
  <p>
   As you can see, the small floating-point errors can accumulate across the sum of a large number of values.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   The computation above was done on a Sun Sparc workstation. Your result will depend on the architecture of your CPU; it may be slightly different, and in the notable case of Intel-compatible X86 CPUs may actually be zero due to the use of internal 80-bit floating point registers on that CPU which give it better than double precision accuracy for some computations. Nonetheless, you should be aware of the fact that the order of operations can influence the result.
  </p>
  <h2 class="API">
   <a name="T_809226861_1068815">
   </a>
   <a name="T_809226861_1068815_PageTOC_TOTAL_">
   </a>
   Examples
  </h2>
  <h3>
   <a name="T_809226861_1069058_Keywords_TOTAL__">
   </a>
   Example 1
  </h3>
  <p>
   This example sums the elements of a one-dimensional array:
  </p>
  <p class="Code">
   ; Define a one-dimensional array:
   <br />
   A = [20, 10, 5, 5, 3]
   <br />
   <br />
   ; Sum the elements of the array:
   <br />
   SUMA = TOTAL([20, 10, 5, 5, 3])
   <br />
   <br />
   ; Print the results:
   <br />
   PRINT, 'A = ', A
   <br />
   PRINT, 'Sum of A = ', SUMA
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   A =&#160;&#160;&#160;20&#160;&#160;&#160;10&#160;&#160;&#160;5&#160;&#160;&#160;5&#160;&#160;&#160;3
  </p>
  <p class="Code">
   Sum of A =&#160;&#160;&#160;43.0000
  </p>
  <h3>
   <a name="T_809226861_679455_Keywords_TOTAL__">
   </a>
   Example 2
  </h3>
  <p>
   The results are different when a multi-dimensional array is used:
  </p>
  <p class="Code">
   ; Define a multi-dimensional array:
   <br />
   A = FINDGEN(5,5)
   <br />
   <br />
   ; Sum each of the rows in A:
   <br />
   SUMROWS = TOTAL(A, 1)
   <br />
   <br />
   ; Sum each of the columns in A:
   <br />
   SUMCOLS = TOTAL(A, 2)
   <br />
   <br />
   ; Print the results:
   <br />
   PRINT, 'A = ', A
   <br />
   PRINT, 'Sum of each row:', SUMROWS
   <br />
   PRINT, 'Sum of each column:', SUMCOLS
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   A =&#160;0.000000&#160;&#160;&#160;1.00000&#160;&#160;&#160;2.00000&#160;&#160;&#160;3.00000&#160;&#160;&#160;4.00000
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;5.00000&#160;&#160;&#160;&#160;6.00000&#160;&#160;&#160;7.00000&#160;&#160;&#160;8.00000&#160;&#160;&#160;9.00000
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;10.0000&#160;&#160;&#160;&#160;11.0000&#160;&#160;&#160;12.0000&#160;&#160;&#160;13.0000&#160;&#160;&#160;14.0000
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;15.0000&#160;&#160;&#160;&#160;16.0000&#160;&#160;&#160;17.0000&#160;&#160;&#160;18.0000&#160;&#160;&#160;19.0000
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;20.0000&#160;&#160;&#160;&#160;21.0000&#160;&#160;&#160;22.0000&#160;&#160;&#160;23.0000&#160;&#160;&#160;24.0000
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   Sum of each row:&#160;&#160;10.0000&#160;&#160;35.0000&#160;&#160;60.0000&#160;&#160;85.0000&#160;&#160;110.000
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   Sum of each column:&#160;&#160;50.0000&#160;&#160;55.0000&#160;&#160;60.0000&#160;&#160;65.0000&#160;&#160;70.0000
  </p>
  <h2 class="API">
   <a name="T_809226861_35965">
   </a>
   <a name="T_809226861_35965_PageTOC_TOTAL_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_ColSep">
      <p>
       Original
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       6.1
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Added INTEGER and PRESERVE_TYPE keywords
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="T_809226861_1086493">
   </a>
   <a name="T_809226861_1086493_PageTOC_TOTAL_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../F/FACTORIAL.html#F_848155245_54485">
    FACTORIAL
   </a>
   ,
   <a class="MCXref_Heading_0" href="../P/PRODUCT.html#P_817877613_1079789">
    PRODUCT
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>