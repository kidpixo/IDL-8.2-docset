<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="IDL Programming|Objects|File Format Object Classes" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   IDLffMJPEG2000
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/NoLines.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Object Classes/File Format/IDLffMJPEG2000.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Programming.html">
    IDL Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../ref_part2.html">
    Objects
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="objects_ff.html">
    File Format Object Classes
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    IDLffMJPEG2000
   </span>
  </div>
  <h1 class="ObjClass">
   <a name="objects_ff_3755668711_1324160">
   </a>
   <a name="objects_ff_3755668711_82875">
   </a>
   IDLffMJPEG2000
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1126597">
     Superclasses
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1324123">
     Creation
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1324124">
     Properties
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1324125">
     Methods
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1330844">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1324146">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_ff_3755668711_1324185">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor3856">
   </a>
   IDL
   <a name="kanchor3857">
   </a>
   ffMJPEG2000 object provides the ability to read and write Motion JPEG2000 (MJ2) files. Motion JPEG2000, like JPEG2000, uses the Discrete Wavelet Transform (DWT) to compress files. This lossless compression option permits retrieval of the original data. With lossy compression, original data is lost during compression and cannot be recovered. DWT is an excellent compression scheme for continuous tone images such as geospatial and medical imagery.
  </p>
  <p>
   A Motion JPEG2000 (MJ2) file contains a series of frames, each of which is an independent JPEG2000 image. An MJ2 animation displays a timed sequence of frames and uses
   <i>
    <a name="kanchor3858">
    </a>
    intra-frame
   </i>
   coding, which means each frame is an independent entity. In contrast, MPEG files typically use
   <i>
    <a name="kanchor3859">
    </a>
    inter-frame
   </i>
   encoding (motion estimation)—each frame is dependent on the previous frames. Because of the intra-frame encoding, MJ2 files can support lossless compression and permit random access to individual frames. These features make the Motion JPEG2000 file format ideal for scientific applications.
  </p>
  <p>
   Each frame of an MJ2 file (like a JPEG2000 image) may consist of one or more components (color or data bands), tiles, or regions. Using the IDLffMJPEG2000 object, you can play an animation consisting of frames, components, tiles or regions and can create a file containing frames, components, and tiles. Additionally, you can specify the number of levels (image resolutions) and quality layers when creating or playing back an MJ2 file
  </p>
  <p>
   An IDLffMJPEG2000 object permits reading or writing an MJ2 file (based on the
   <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324812">
    WRITE
   </a>
   property value). However, the same IDLffMJPEG2000 object cannot be used to both write and read an MJ2 file. You can write a file with one object (where WRITE=1), but you must create a separate object (where WRITE=0, the default) in order to read or play the new MJ2 file.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   The rate at which the IDLffMJPEG2000 object can compress or decompress frames is affected by the contents of the individual frames being compressed or decompressed and by the processing speed of your system. The amount of compression is dependent on the contents of the frames being compressed.
  </p>
  <h3>
   <a name="objects_ff_3755668711_1331119">
   </a>
   <a name="objects_ff_3755668711_25261">
   </a>
   About Processing Threads
  </h3>
  <p>
   Internally, several IDLffMJPEG2000 methods make use of background processing threads that allow the user interface to stay more responsive while MJ2 file data is being compressed (written) or decompressed (read). On a dual processor or multiprocessor machine the UI thread (of the main IDL process) and the background thread will typically run on separate processors allowing higher compression and decompression throughput. These threads are described in each method where appropriate.
  </p>
  <h3>
   Re
   <a name="kanchor3860">
   </a>
   ading MJ2 Files
  </h3>
  <p>
   You can read or play a sequence of frames, components, tiles or regions contained in an existing MJ2 file or you can randomly access individual elements. Additionally, any element may be returned at a specified resolution (level) or quality (layer).
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   You can view monochrome and RGB animations in the pre-built IDL Motion JPEG2000 Player. This example code,
   <span class="Courier">
    mj2_player.pro
   </span>
   , and a sample image,
   <span class="Courier">
    idl_mjpeg2000_example.mj2
   </span>
   , are located in the
   <span class="Courier">
    IDL_DIR\examples\mjpeg2000
   </span>
   directory where
   <span class="Courier">
    IDL_DIR
   </span>
   is the directory where you have installed IDL. If you have an MJPEG2000 codec installed, you can also play animations in other media players including the Windows Media Player.
  </p>
  <p>
   Playback will occur as fast as the frames can be decompressed unless you implement some type of timer mechanism.
  </p>
  <h3>
   Writ
   <a name="kanchor3861">
   </a>
   ing MJ2 Files
  </h3>
  <p>
   You can write (create) an MJ2 file that consists of frames, components and tiles, which contain the desired number of quality levels. An MJ2 file can store multiple related or non-related images (frames) as long as each frame has the same dimensions and same number of components. Files can be written in a lossless or lossy format depending on the value of the
   <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1328877">
    REVERSIBLE
   </a>
   property.
  </p>
  <p>
   The source of frame data for the animation can be existing images, generated images, or snapshots of an IDLgrWindow display. Regardless of the source, use the SetData method to write the data to the file, and the Commit method to close the processing thread once all of the frames have been added to the animation.
  </p>
  <p>
   For an example that adds a series of IDLgrWindow screen captures to an MJ2 file, see the
   <span class="Courier">
    mj2_writer_rgb.pro
   </span>
   example described below.
  </p>
  <p>
   Depending on how you pass in data, you may need to set several properties prior to the first call to SetData in order to create the expected MJ2 file.
  </p>
  <p class="Tip" madcap:autonum="&lt;b&gt;Tip: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Tip:
     </b>
    </span>
   </span>
   You can use the example IDL Motion JPEG2000 Writer,
   <span class="Courier">
    mj2_writer_rgb.pro
   </span>
   , as a template for creating an MJ2 animation. This example is located in the
   <span class="Courier">
    IDL_DIR\examples\mjpeg2000
   </span>
   directory where
   <span class="Courier">
    IDL_DIR
   </span>
   is the directory where you have installed IDL. Running the example creates a new MJ2 file, which is written to your application user directory, a subdirectory of your home directory.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   <a name="kanchor3862">
   </a>
   <a name="objects_ff_3755668711_62240">
   </a>
   The IDLffMJPEG2000 object supports reading and writing Motion JPEG2000 files stored in a pr
   <a name="kanchor3863">
   </a>
   ogressive format. See the
   <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324807">
    SCAN_MODE
   </a>
   property for details.
  </p>
  <h2 class="API">
   <a name="objects_ff_3755668711_1126597">
   </a>
   <a name="objects_ff_3755668711_78130">
   </a>
   Superclasses
  </h2>
  <p>
   None
  </p>
  <h2 class="API">
   <a name="objects_ff_3755668711_1324123">
   </a>
   <a name="objects_ff_3755668711_14322">
   </a>
   Creation
  </h2>
  <p>
   See
   <a class="MCXref_Heading_0" href="IDLffMJPEG2000__Init.html#objects_ff_3755668711_1325267">
    IDLffMJPEG2000::Init
   </a>
   .
  </p>
  <h2 class="API">
   <a name="objects_ff_3755668711_1324124">
   </a>
   <a name="objects_ff_3755668711_58743">
   </a>
   Properties
  </h2>
  <p>
   Objects of this class have the following properties. See
   <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1334383" target="" title="" alt="">
    IDLffMJPEG2000 Properties
   </a>
   for details on individual properties.
  </p>
  <table style="mc-table-style: url('../../Resources/TableStyles/NoLines.css');" cellspacing="0" class="TableStyle_NoLines">
   <col width="226px" />
   <col width="51px" />
   <col width="189px" />
   <tbody>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324787">
        BIT_DEPTH
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;&#160;&#160;&#160;&#160;&#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324801">
        N_LEVELS
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1326686">
        BIT_RATE
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324802">
        N_TILES
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324790">
        COLOR_SPACE
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324803">
        PALETTE
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1348035">
        COMMENT
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324805">
        PROGRESSION
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324791">
        CURRENT_FRAME
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1328877">
        REVERSIBLE
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1327380">
        DIMENSIONS
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324807">
        SCAN_MODE
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1347426">
        DURATION
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324808">
        SIGNED
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324794">
        FILENAME
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1329187">
        STATE
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324795">
        FRAME_BUFFER_LENGTH
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324810">
        TILE_DIMENSIONS
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324796">
        FRAMES_IN_BUFFER
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324811">
        TIMESCALE
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324797">
        FRAME_PERIOD
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324812">
        WRITE
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324798">
        N_COMPONENTS
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1348124">
        XML
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324799">
        N_FRAMES
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowSep_ColEnd">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324813">
        YCC
       </a>
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       <a class="MCXref_Heading_0" href="IDLffMJPEG2000_Propertie.html#objects_ff_3755668711_1324800">
        N_LAYERS
       </a>
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_NoLines_Body_0_0_RowEnd_ColEnd">
      <p>
       &#160;
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="objects_ff_3755668711_1324125">
   </a>
   <a name="objects_ff_3755668711_36109">
   </a>
   Methods
   <a name="kanchor3864">
   </a>
  </h2>
  <p>
   This class has the following methods:
  </p>
  <ul>
   <li value="1">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__Cleanup.html#objects_ff_3755668711_1325262">
     IDLffMJPEG2000::Cleanup
    </a>
   </li>
   <li value="2">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__Commit.html#objects_ff_3755668711_1325263">
     IDLffMJPEG2000::Commit
    </a>
   </li>
   <li value="3">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__GetData.html#objects_ff_3755668711_1325264">
     IDLffMJPEG2000::GetData
    </a>
   </li>
   <li value="4">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__GetPrope.html#objects_ff_3755668711_1325265">
     IDLffMJPEG2000::GetProperty
    </a>
   </li>
   <li value="5">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__GetSeque.html#objects_ff_3755668711_1325266">
     IDLffMJPEG2000::GetSequentialData
    </a>
   </li>
   <li value="6">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__Init.html#objects_ff_3755668711_1325267">
     IDLffMJPEG2000::Init
    </a>
   </li>
   <li value="7">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__ReleaseS.html#objects_ff_3755668711_1325268">
     IDLffMJPEG2000::ReleaseSequentialData
    </a>
   </li>
   <li value="8">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__SetData.html#objects_ff_3755668711_1325269">
     IDLffMJPEG2000::SetData
    </a>
   </li>
   <li value="9">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__SetPrope.html#objects_ff_3755668711_1325270">
     IDLffMJPEG2000::SetProperty
    </a>
   </li>
   <li value="10">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__StartSeq.html#objects_ff_3755668711_1325271">
     IDLffMJPEG2000::StartSequentialReading
    </a>
   </li>
   <li value="11">
    <a class="MCXref_Heading_0" href="IDLffMJPEG2000__StopSequ.html#objects_ff_3755668711_1325272">
     IDLffMJPEG2000::StopSequentialReading
    </a>
   </li>
  </ul>
  <h2 class="API">
   <a name="objects_ff_3755668711_1330844">
   </a>
   <a name="objects_ff_3755668711_28256">
   </a>
   Examples
  </h2>
  <p>
   The following simple example adds slices of data from an MRI of a human head to an MJ2 file to create a short animation. Each SetData call adds a single slice of data, resulting in an animation consisting of 57 frames.
  </p>
  <p class="Code">
   PRO mj2_simple_write_read
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Read image data, which contains 57 slices.
  </p>
  <p class="Code">
   nFrames = 57
  </p>
  <p class="Code">
   head = READ_BINARY( FILEPATH('head.dat', $
  </p>
  <p class="Code">
   SUBDIRECTORY=['examples','data']), $
  </p>
  <p class="Code">
   DATA_DIMS=[80,100, 57])
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Enter new name for MJ2 file or select existing file
  </p>
  <p class="Code">
   ; to be overwritten.
  </p>
  <p class="Code">
   file = DIALOG_PICKFILE(DEFAULT_EXTENSION="mj2", $
  </p>
  <p class="Code">
   &#160;&#160;&#160;TITLE="Enter Name for File")
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Create an IDLffMJPEG2000 object.
  </p>
  <p class="Code">
   oMJ2write=OBJ_NEW('IDLffMJPEG2000', file, /WRITE, /REVERSIBLE)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Write the data of each frame into the MJ2 file.
  </p>
  <p class="Code">
   FOR i=0, nFrames-1 DO BEGIN
  </p>
  <p class="Code">
   data = head[*,*,i]
  </p>
  <p class="Code">
   result = oMJ2write-&gt;SetData(data)
  </p>
  <p class="Code">
   ENDFOR
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Commit and close the IDLffMJPEG2000 object.
  </p>
  <p class="Code">
   return = oMJ2write-&gt;Commit(10000)
  </p>
  <p class="Code">
   OBJ_DESTROY, oMJ2write
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Create a new IDLffMJPEG2000 object to read the MJ2 file.
  </p>
  <p class="Code">
   oMJ2read=OBJ_NEW("IDLffMJPEG2000", file)
  </p>
  <p class="Code">
   oMJ2read-&gt;GetProperty,N_FRAMES=nFrames, DIMENSIONS=dims
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Create a window and display simple animation.
  </p>
  <p class="Code">
   WINDOW, 0, XSIZE=2*dims[0], YSIZE=2*dims[1]
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   FOR i=0, nFrames-1 DO BEGIN
  </p>
  <p class="Code">
   &#160;&#160;&#160;; Return data and display magnified version. Use WAIT to
  </p>
  <p class="Code">
   &#160;&#160;&#160;; pause between each frame for visibility. Unless a timer
  </p>
  <p class="Code">
   ; is used in conjunction with the FRAME_PERIOD and
  </p>
  <p class="Code">
   ; TIMESCALE properties, the default playback rate will be
  </p>
  <p class="Code">
   &#160;&#160;&#160;; as fast as the frames can be decompressed.
  </p>
  <p class="Code">
   data = oMJ2read-&gt;GetData(i)
  </p>
  <p class="Code">
   TVSCL, CONGRID(data, 2*dims[0], 2*dims[1])
  </p>
  <p class="Code">
   WAIT, 0.1
  </p>
  <p class="Code">
   ENDFOR
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Cleanup.
  </p>
  <p class="Code">
   OBJ_DESTROY, oMJ2read
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   End
  </p>
  <h2 class="API">
   <a name="objects_ff_3755668711_1324146">
   </a>
   <a name="objects_ff_3755668711_70289">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       6.3
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="objects_ff_3755668711_1324185">
   </a>
   <a name="objects_ff_3755668711_50613">
   </a>
   See Also
  </h2>
  <a class="MCXref_Heading_0" href="IDLffJPEG2000.html#objects_ff_3755668711_1371624">
   IDLffJPEG2000
  </a>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>