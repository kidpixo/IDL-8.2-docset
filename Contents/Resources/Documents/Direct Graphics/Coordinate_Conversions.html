<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Coordinate Conversions
  </title>
  <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../Resources/TableStyles/Description.css" rel="stylesheet" />
  <link href="../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../idl_CSH.html#Direct Graphics/Coordinate_Conversions.html" style="">
    Open topic with navigation
   </a>
  </p>
  <h1>
   <a name="Using_DG_66131095_1031942">
   </a>
   <a name="Using_DG_66131095_75137">
   </a>
   Coordinate Conversions
  </h1>
  <p>
   Depending upon the data and type of visualization, you may want to convert between normalized, data or device coordinates. This section details two-dimensional and three-dimensional coordinate system characteristics and provides resources for various coordinate conversions. See the following for details:
  </p>
  <ul>
   <li value="1">
    <a class="MCXref_Heading_0" href="#Using_DG_66131095_1032003" target="" title="" alt="">
     Two-Dimensional Coordinate Conversion
    </a>
   </li>
   <li value="2">
    <a class="MCXref_Heading_0" href="#Using_DG_66131095_1031959" target="" title="" alt="">
     Three-Dimensional Coordinate Conversion
    </a>
   </li>
   <li value="3">
    <a class="MCXref_Heading_0" href="#Using_DG_66131095_1031953" target="" title="" alt="">
     Using Coordinate Conversions
    </a>
   </li>
  </ul>
  <h2 class="API">
   <a name="Using_DG_66131095_1032003">
   </a>
   <a name="Using_DG_66131095_35708">
   </a>
   Two-Dimensional Coordinate Conversion
  </h2>
  <p>
   <a name="kanchor5098">
   </a>
   This section describes the formulae for conversions to and from each coordinate system. In the following discussion,
   <i>
    D
   </i>
   <span class="SubScript">
    x
   </span>
   is a data coordinate,
   <i>
    N
   </i>
   <span class="SubScript">
    x
   </span>
   is a normalized coordinate, and
   <i>
    R
   </i>
   <span class="SubScript">
    x
   </span>
   is a raw device coordinate. Let
   <i>
    V
   </i>
   <span class="SubScript">
    x
   </span>
   and
   <i>
    V
   </i>
   <span class="SubScript">
    y
   </span>
   represent the size of the visible area of the currently selected display or drawing surface.
  </p>
  <p>
   The field S is a two-element array of scaling factors used to convert X coordinates from data units to normalized units. S contains the parameters of the linear equation, converting data coordinates to normalized coordinates. S[0] is the intercept, and S[1] is the slope. Also, let
   <i>
    D
   </i>
   <span class="SubScript">
    x
   </span>
   be the data coordinate,
   <i>
    N
   </i>
   <span class="SubScript">
    x
   </span>
   the normalized coordinate,
   <i>
    R
   </i>
   <span class="SubScript">
    x
   </span>
   the device coordinate,
   <i>
    V
   </i>
   <span class="SubScript">
    x
   </span>
   the device X size (in device coordinates).
  </p>
  <p>
   With the above variables defined, the linear two-dimensional coordinate conversions for the
   <i>
    x
   </i>
   coordinate can be written as follows:
  </p>
  <table style="caption-side: bottom;mc-table-style: url('../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;" cellspacing="0" class="TableStyle_Description">
   <caption>
    Equations for X-axis Coordinate Conversion
   </caption>
   <col />
   <col />
   <col />
   <thead>
    <tr>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       Coordinate Conversion
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       Linear
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
      <p>
       Logarithmic
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       Data to normal
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       <img src="8_4.jpg" />
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       <img src="8_5.jpg" />
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       Data to device
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       <img src="8_6.jpg" />
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
      <p>
       <img src="8_7.jpg" />
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       Normal to device
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       <img src="8_8.jpg" />
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       <img src="8_9.jpg" />
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       Normal to data
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       <img src="8_10.jpg" />
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
      <p>
       <img src="8_11.jpg" />
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       Device to data
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       <img src="8_12.jpg" />
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       <img src="8_13.jpg" />
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
      <p>
       Device to normal
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowEnd_ColSep">
      <p>
       <img src="8_14.jpg" />
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowEnd_ColEnd">
      <p>
       <img src="8_15.jpg" />
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   The
   <i>
    y-
   </i>
   and
   <i>
    z
   </i>
   -axis coordinates are converted in exactly the same manner, with the exception that there is no
   <i>
    z
   </i>
   device coordinate and that logarithmic
   <i>
    z
   </i>
   -axes are not permitted.
  </p>
  <p>
   This coordinate conversion functionality is built into object graphics through the XCOORD_CONVERT and YCOORD_CONVERT properties or each type of visualization object. If you are working with a Direct Graphics display, you can use the
   <a class="MCXref_Heading_0" href="../Reference Material/C/CONVERT_COORD.html" target="" title="" alt="">
    CONVERT_COORD
   </a>
   function.
  </p>
  <h2 class="API">
   <a name="Using_DG_66131095_1031959">
   </a>
   <a name="Using_DG_66131095_38612">
   </a>
   Three-Dimensional
   <a name="kanchor5099">
   </a>
   Coordinate Conversion
  </h2>
  <p>
   To convert from a three-dimensional coordinate to a two-dimensional coordinate, IDL follows these steps:
  </p>
  <ul>
   <li value="1">
    Data coordinates are converted to three-dimensional normalized coordinates. To convert the
    <i>
     x
    </i>
    coordinate from data to normalized coordinates, use the formula
    <i>
     N
    </i>
    <span class="SubScript">
     x
    </span>
    =
    <i>
     X
    </i>
    <span class="SubScript">
     0
    </span>
    +
    <i>
     X
    </i>
    <span class="SubScript">
     1
    </span>
    <i>
     D
    </i>
    <span class="SubScript">
     x
    </span>
    . The same process is used to convert the
    <i>
     y
    </i>
    and
    <i>
     z
    </i>
    coordinates using !Y.S and !Z.S.
   </li>
   <li value="2">
    The three-dimensional normalized coordinate, P = (
    <i>
     N
    </i>
    <span class="SubScript">
     x
    </span>
    ,
    <i>
     N
    </i>
    <span class="SubScript">
     y
    </span>
    ,
    <i>
     N
    </i>
    <span class="SubScript">
     z
    </span>
    ), whose homogeneous representation is (
    <i>
     N
    </i>
    <span class="SubScript">
     x
    </span>
    ,
    <i>
     N
    </i>
    <span class="SubScript">
     y
    </span>
    ,
    <i>
     N
    </i>
    <span class="SubScript">
     z
    </span>
    , 1), is multiplied by the concatenated transformation matrix !P.T:
   </li>
   <li value="3">
    P′ =
    <i>
     P
    </i>
    •
    <span class="Courier">
     !P.T
    </span>
   </li>
   <li value="4">
    The vector P′ is scaled by dividing by
    <i>
     w
    </i>
    , and the normalized two-dimensional coordinates are extracted:
   </li>
   <li value="5">
    <i>
     N
    </i>
    ′
    <span class="SubScript" style="font-family: Times;font-style: italic;">
     x
    </span>
    =
    <i>
     P
    </i>
    ′
    <span class="SubScript" style="font-family: Times;font-style: italic;">
     x
    </span>
    /
    <i>
     P
    </i>
    ′
    <span class="SubScript" style="font-family: Times;font-style: italic;">
     w
    </span>
    and
    <i>
     N
    </i>
    ′
    <span class="SubScript" style="font-family: Times;font-style: italic;">
     y
    </span>
    =
    <i>
     P
    </i>
    ′
    <span class="SubScript" style="font-family: Times;font-style: italic;">
     y
    </span>
    /
    <i>
     P
    </i>
    ′
    <span class="SubScript" style="font-family: Times;font-style: italic;">
     w
    </span>
   </li>
   <li value="6">
    The normalized
    <i>
     xy
    </i>
    coordinate is converted to device coordinates.
   </li>
  </ul>
  <h2 class="API">
   <a name="Using_DG_66131095_1031953">
   </a>
   <a name="Using_DG_66131095_45463">
   </a>
   Using Coordinate Conversions
  </h2>
  <p>
   How coordinate conversions are defined depend upon the display type as follows:
  </p>
  <ul>
   <li value="1">
    <b>
     iTools
    </b>
    — in an iTool display, the interactive nature of the tool makes coordinate conversions transparent. There is no need to programmatically configure the transformation matrices of the objects.
   </li>
   <li value="2">
    <b>
     Object Graphics
    </b>
    — converting an object’s data coordinates into normalized coordinates for display is a common task.
    <![CDATA[ ]]>
   </li>
   <li value="3">
    <b>
     Direct Graphics
    </b>
    — the IDL Direct Graphics system automatically positions and sizes static visualizations so there is no need to set up a transformation matrix. However, you can convert between the supported coordinate systems.
   </li>
  </ul>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>