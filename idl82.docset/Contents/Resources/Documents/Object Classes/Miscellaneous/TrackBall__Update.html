<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="IDL Programming|Objects|Miscellaneous Object Classes|TrackBall" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   TrackBall::Update
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Object Classes/Miscellaneous/TrackBall__Update.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Programming.html">
    IDL Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../ref_part2.html">
    Objects
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="objects_misc.html">
    Miscellaneous Object Classes
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    TrackBall::Update
   </span>
  </div>
  <h1 class="ObjMethod">
   <a name="objects_misc_904195448_1004163">
   </a>
   <a name="objects_misc_904195448_23806">
   </a>
   TrackBall::Update
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004184">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004187">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004191">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004202">
     Example
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004234">
     Version History
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The TrackBall::
   <a name="kanchor4761">
   </a>
   Update function method updates the state of the TrackBall object based on the information contained in the input widget event structure. The return value is nonzero if a transformation matrix is calculated as a result of the event, or zero otherwise.
  </p>
  <h2 class="API">
   <a name="objects_misc_904195448_1004184">
   </a>
   <a name="objects_misc_904195448_1164905_PageTOC_TrackBall">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   =
   <i>
    Obj
   </i>
   -&gt;[
   <a class="MCXref_Heading_0" href="TrackBall.html#objects_misc_904195448_1083177">
    TrackBall
   </a>
   ::]Update(
   <i>
    sEvent
   </i>
   [,&#160;
   <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004192">
    MOUSE
   </a>
   ={1 | 2 | 4}] [,&#160;
   <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004197">
    TRANSFORM
   </a>
   =
   <i>
    variable
   </i>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#objects_misc_904195448_1004199">
    TRANSLATE
   </a>
   ] )
  </p>
  <h2 class="API">
   <a name="objects_misc_904195448_1004187">
   </a>
   <a name="objects_misc_904195448_1164907_PageTOC_TrackBall">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   sEvent
  </h3>
  <p>
   The widget event structure.
  </p>
  <h2 class="API">
   <a name="objects_misc_904195448_1004191">
   </a>
   <a name="objects_misc_904195448_1164910_PageTOC_TrackBall">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="objects_misc_904195448_1004192">
   </a>
   <a name="objects_misc_904195448_1004192_Keywords_TrackBall">
   </a>
   MOUSE
  </h3>
  <p>
   Set this keyword to an integer value to indicate which mouse button to honor for trackball events. Valid values include:
  </p>
  <ul>
   <li value="1">
    1 = Left mouse button (the default)
   </li>
   <li value="2">
    2 = Middle mouse button
   </li>
   <li value="3">
    4 = Right mouse button
   </li>
  </ul>
  <h3 class="Keyword">
   <a name="objects_misc_904195448_1004197">
   </a>
   <a name="objects_misc_904195448_1004197_Keywords_TrackBall">
   </a>
   TRANSFORM
  </h3>
  <p>
   Set this keyword to a named variable that will contain a 4 x 4 element floating-point array if a new transformations matrix is calculated as a result of the widget event.
  </p>
  <h3 class="Keyword">
   <a name="objects_misc_904195448_1004199">
   </a>
   <a name="objects_misc_904195448_1004199_Keywords_TrackBall">
   </a>
   TRANSLATE
  </h3>
  <p>
   Set this keyword to indicate that the trackball movement should be constrained to translation in the
   <i>
    X-Y
   </i>
   plane rather than rotation about an axis.
  </p>
  <h2 class="API">
   <a name="objects_misc_904195448_1004202">
   </a>
   <a name="objects_misc_904195448_1340180_PageTOC_TrackBall">
   </a>
   Example
  </h2>
  <p>
   The example code below provides a skeleton for a widget-based application that uses the TrackBall object to interactively change the orientation of graphics.
  </p>
  <p>
   Create a trackball centered on a 512x512 pixel drawable area, and a view containing the model to be manipulated:
  </p>
  <p class="Code">
   xdim = 512
  </p>
  <p class="Code">
   ydim = 512
  </p>
  <p class="Code">
   wBase = WIDGET_BASE()
  </p>
  <p class="Code">
   wDraw = WIDGET_DRAW(wBase, XSIZE=xdim, YSIZE=ydim, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;GRAPHICS_LEVEL=2, /BUTTON_EVENTS, $
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;/MOTION_EVENTS, /EXPOSE_EVENTS, RETAIN=0 )
  </p>
  <p class="Code">
   WIDGET_CONTROL, wBase, /REALIZE
  </p>
  <p class="Code">
   WIDGET_CONTROL, wDraw, GET_VALUE=oWindow
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   oTrackball = OBJ_NEW('Trackball', [xdim/2.,ydim/2.], xdim/2.)
  </p>
  <p class="Code">
   oView = OBJ_NEW('IDLgrView')
  </p>
  <p class="Code">
   oModel = OBJ_NEW('IDLgrModel')
  </p>
  <p class="Code">
   oView-&gt;Add, oModel
  </p>
  <p class="Code">
   XMANAGER, 'TrackEx', wBase
  </p>
  <p>
   You must handle the trackball updates in the widget event-handling code. As the trackball transformation changes, update the transformation for the model object, and redraw the view:
  </p>
  <p class="Code">
   PRO TrackEx_Event, sEvent
  </p>
  <p class="Code">
   ...
  </p>
  <p class="Code">
   bHaveXform = oTrackball-&gt;Update( sEvent, TRANSFORM=TrackXform )
  </p>
  <p class="Code">
   IF (bHaveXform) THEN BEGIN
  </p>
  <p class="Code">
   oModel-&gt;GetProperty, TRANSFORM=ModelXform
  </p>
  <p class="Code">
   oModel-&gt;SetProperty, TRANSFORM=ModelXform # TrackXform
  </p>
  <p class="Code">
   oWindow-&gt;Draw, oView
  </p>
  <p class="Code">
   ENDIF
  </p>
  <p class="Code">
   ...
  </p>
  <p class="Code">
   END
  </p>
  <p class="ExampleCode" madcap:autonum="&lt;b&gt;Example Code: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Example Code:
     </b>
    </span>
   </span>
   For a complete example, see the file
   <span class="Courier">
    surf_track.pro
    <a name="kanchor4762">
    </a>
   </span>
   , located in the
   <span class="Courier">
    examples/doc/objects
   </span>
   subdirectory of the IDL distribution. Run the example procedure by entering
   <span class="Courier">
    surf_track
   </span>
   at the IDL command prompt or view the file in an IDL Editor window by entering
   <span class="Courier">
    .EDIT surf_track.pro
   </span>
   .
  </p>
  <p>
   The SURF_TRACK procedure uses IDL widgets to create a graphical user interface to an object tree, creates a surface object from user-specified data (or from default data, if none is specified), and places the surface object in an IDL draw widget. The SURF_TRACK interface allows the user to specify several attributes of the object hierarchy via pulldown menus.
  </p>
  <h2 class="API">
   <a name="objects_misc_904195448_1004234">
   </a>
   <a name="objects_misc_904195448_52090">
   </a>
   Version History
  </h2>
  <table style="caption-side: top;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" class="TableStyle_VersionTable" cellspacing="0">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       5.0
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>