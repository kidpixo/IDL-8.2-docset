<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="IDL Programming|Objects|Analysis Object Classes|IDLanROIGroup" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   IDLanROIGroup::ComputeMask
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Object Classes/Analysis/IDLanROIGroup__ComputeMa.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Programming.html">
    IDL Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../ref_part2.html">
    Objects
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="objects_an.html">
    Analysis Object Classes
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    IDLanROIGroup::ComputeMask
   </span>
  </div>
  <h1 class="ObjMethod">
   <a name="objects_an_3393474575_1004445">
   </a>
   <a name="objects_an_3393474575_19391">
   </a>
   IDLanROIGroup::ComputeMask
   <a name="kanchor3790">
   </a>
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004466">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004469">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004478">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004481">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004505">
     Version History
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The IDLanROIGroup::ComputeMask function method prepares a two-dimensional mask for this group of regions.
  </p>
  <h2 class="API">
   <a name="objects_an_3393474575_1004466">
   </a>
   <a name="objects_an_3393474575_1355699_PageTOC_IDLanROIGroup">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   =
   <i>
    Obj-&gt;
   </i>
   [
   <a class="MCXref_Heading_0" href="IDLanROIGroup.html#objects_an_3393474575_1004293">
    IDLanROIGroup
   </a>
   ::]ComputeMask( [,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004484">
    INITIALIZE
   </a>
   ={&#160;&#8209;1&#160;|&#160;0&#160;|&#160;1&#160;}] [,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004482">
    DIMENSIONS
   </a>
   =
   <i>
    [xdim
   </i>
   ,&#160;
   <i>
    ydim]
   </i>
   ]&#160;|&#160;[,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004491">
    MASK_IN
   </a>
   =
   <i>
    array
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004489">
    LOCATION
   </a>
   =
   <i>
    [x
   </i>
   ,&#160;
   <i>
    y
   </i>
   [,&#160;
   <i>
    z
   </i>
   ]
   <i>
    ]
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004493">
    MASK_RULE
   </a>
   ={&#160;0&#160;|&#160;1&#160;|&#160;2&#160;}] [,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004498">
    PLANE_NORMAL
   </a>
   =
   <i>
    [x,&#160;y,&#160;z]
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004500">
    PLANE_XAXIS
   </a>
   =
   <i>
    [x,&#160;y,&#160;z]
   </i>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#objects_an_3393474575_1004502">
    RUN_LENGTH
   </a>
   ] )
  </p>
  <h2 class="API">
   <a name="objects_an_3393474575_1004469">
   </a>
   <a name="objects_an_3393474575_1355701_PageTOC_IDLanROIGroup">
   </a>
   Return Value
  </h2>
  <h3>
   Result
  </h3>
  <p>
   The return value is a two-dimensional array of bytes whose values range from 0 to 255. The mask is computed by applying the following formula to the current mask for each mask point contained within the ROI:
  </p>
  <p class="indent">
   <i>
    M
   </i>
   <sub class="italic">
    out
   </sub>
   = MAX(MIN(0, (
   <i>
    M
   </i>
   <sub class="italic">
    roi
   </sub>
   *
   <i>
    Ext
   </i>
   ) +
   <i>
    M
   </i>
   <sub class="italic">
    in
   </sub>
   ), 255)
  </p>
  <p>
   where
   <i>
    M
   </i>
   <sub class="italic">
    roi
   </sub>
   is 255 and
   <i>
    Ext
   </i>
   is 1 for points within an exterior region and –1 for points within an interior region.
  </p>
  <p>
   If the TYPE of the contained regions is 0 (points), a single mask pixel is set for each region vertex that falls within the bounds of the mask.
  </p>
  <p>
   If the TYPE of the contained regions is 1 (path), each pixel along the paths of the regions is set if it falls within the mask.
  </p>
  <p>
   If the TYPE of the region is 2 (closed polygon), a mask pixel is set if that pixel is on the plane of a contained region, and the pixel falls within that region (according to the MASK_RULE).
  </p>
  <h2 class="API">
   <a name="objects_an_3393474575_1004478">
   </a>
   <a name="objects_an_3393474575_1396980_PageTOC_IDLanROIGroup">
   </a>
   Arguments
  </h2>
  <p>
   None.
  </p>
  <h2 class="API">
   <a name="objects_an_3393474575_1004481">
   </a>
   <a name="objects_an_3393474575_1396737_PageTOC_IDLanROIGroup">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004482">
   </a>
   <a name="objects_an_3393474575_1004482_Keywords_IDLanROIGroup">
   </a>
   DIMENSIONS
  </h3>
  <p>
   Set this keyword to a two-element vector, [
   <i>
    xdim
   </i>
   ,
   <i>
    ydim
   </i>
   ], specifying the requested dimensions of the returned mask. If MASK_IN is provided, the value of this keyword is ignored, and the dimensions of that mask are used. Otherwise, the default dimensions are [100, 100].
  </p>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004484">
   </a>
   <a name="objects_an_3393474575_1004484_Keywords_IDLanROIGroup">
   </a>
   INITIALIZE
  </h3>
  <p>
   Set this keyword to indicate how the mask should be initialized. Valid values include:
  </p>
  <ul>
   <li value="1">
    –1 = The mask is not initialized; the default if the MASK_IN keyword is set. This option is useful when updating an already existing mask.
   </li>
   <li value="2">
    0 = The mask is initialized with each pixel set to 0; the default if the MASK_IN keyword is not set.
   </li>
   <li value="3">
    1 = The mask is initialized with each pixel set to 255.
   </li>
  </ul>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004489">
   </a>
   <a name="objects_an_3393474575_1004489_Keywords_IDLanROIGroup">
   </a>
   LOCATION
  </h3>
  <p>
   Set this keyword to a vector of the form [
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   [,
   <i>
    Z
   </i>
   ]] specifying the location of the origin of the mask. The default is [0, 0, 0].
  </p>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004491">
   </a>
   <a name="objects_an_3393474575_1004491_Keywords_IDLanROIGroup">
   </a>
   MASK_IN
  </h3>
  <p>
   Set this keyword to a two-dimensional array representing a mask that is already allocated and to be updated for this region. If the variable specified by this keyword is of type BYTE and is also specified as the function result, then this method updates the mask data in-place without copying. If this keyword is not provided, a mask is allocated by default to match the dimensions specified via the DIMENSIONS keyword.
  </p>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004493">
   </a>
   <a name="objects_an_3393474575_1004493_Keywords_IDLanROIGroup">
   </a>
   MASK_RULE
  </h3>
  <p>
   Set this keyword to an integer specifying the rule used to determine whether a given pixel should be set within the mask. Valid values include:
  </p>
  <ul>
   <li value="1">
    0 = Boundary Only. All pixels falling on a region’s boundary are set.
   </li>
   <li value="2">
    1 = Interior Only. All pixels falling within the region’s boundary, but not on the boundary, are set.
   </li>
   <li value="3">
    2 = Boundary + Interior. All pixels falling on or within a region’s boundary are set. This is the default.
   </li>
  </ul>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004498">
   </a>
   <a name="objects_an_3393474575_1004498_Keywords_IDLanROIGroup">
   </a>
   PLANE_NORMAL
  </h3>
  <p>
   Set this keyword to a three-element vector, [
   <i>
    x
   </i>
   ,
   <i>
    y
   </i>
   ,
   <i>
    z
   </i>
   ], specifying the normal vector for the plane on which the mask is to be computed. The default is [0, 0, 1].
  </p>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004500">
   </a>
   <a name="objects_an_3393474575_1004500_Keywords_IDLanROIGroup">
   </a>
   PLANE_XAXIS
  </h3>
  <p>
   Set this keyword to a three-element vector, [
   <i>
    x
   </i>
   ,
   <i>
    y
   </i>
   ,
   <i>
    z
   </i>
   ], specifying the direction vector along which each row of mask pixels is to be computed (starting at LOCATION). The default is [1, 0, 0].
  </p>
  <h3 class="Keyword">
   <a name="objects_an_3393474575_1004502">
   </a>
   <a name="objects_an_3393474575_1004502_Keywords_IDLanROIGroup">
   </a>
   RUN_LENGTH
  </h3>
  <p>
   Set this keyword to a non-zero value to return a run-length encoded representation of the mask, stored in a one-dimensional unsigned long array. When run-length encoded, each element with an even subscript contains the length of the run, and the following element contains the starting index of the run.
  </p>
  <h2 class="API">
   <a name="objects_an_3393474575_1004505">
   </a>
   <a name="objects_an_3393474575_53574">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_ColSep">
      <p>
       5.3
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       5.6
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Added RUN_LENGTH keyword
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>