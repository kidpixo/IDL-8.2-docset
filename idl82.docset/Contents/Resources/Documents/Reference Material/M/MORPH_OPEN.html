<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: M" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   MORPH_OPEN
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/M/MORPH_OPEN.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="M_list.html">
    Routines: M
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    MORPH_OPEN
   </span>
  </div>
  <h1 class="Routine">
   <a name="M_824365677_930051">
   </a>
   <a name="M_824365677_26099">
   </a>
   MORPH_OPEN
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#M_824365677_949077">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#M_824365677_993251">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#M_824365677_949079">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#M_824365677_949084">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#M_824365677_949095">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#M_824365677_954315">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#M_824365677_973037">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor1910">
   </a>
   MORPH_OPEN function applies the opening operator to a binary or grayscale image. MORPH_OPEN is simply an erosion operation followed by a dilation operation. The opening operation is an idempotent operator, applying it more than once produces no further effect.
  </p>
  <p>
   An alternative definition of the opening, is that it is the union of all sets containing the structuring element in the original image. Both the opening and the closing operators have the effect of smoothing the image, with the opening operation removing pixels, and the closing operation adding pixels.
  </p>
  <p>
   This routine is written in the IDL language. Its source code can be found in the file
   <span class="Courier">
    morph_open.pro
   </span>
   in the lib subdirectory of the IDL distribution.
  </p>
  <h2 class="API">
   <a name="M_824365677_949077">
   </a>
   <a name="M_824365677_949077_PageTOC_MORPH_OPEN_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <span class="_Override" style="font-style: italic;">
    Result
   </span>
   = MORPH_OPEN (
   <span class="_Override" style="font-style: italic;">
    Image, Structure
   </span>
   [,&#160;/
   <a class="MCXref_Heading_0" href="#M_824365677_949085">
    GRAY
   </a>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#M_824365677_949087">
    PRESERVE_TYPE
   </a>
   =
   <span class="_Override" style="font-style: italic;">
    bytearray
   </span>
   | /
   <a class="MCXref_Heading_0" href="#M_824365677_949089">
    UINT
   </a>
   | /
   <a class="MCXref_Heading_0" href="#M_824365677_949091">
    ULONG
   </a>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#M_824365677_949093">
    VALUES
   </a>
   =
   <i>
    array
   </i>
   ]&#160;)
  </p>
  <h2 class="API">
   <a name="M_824365677_993251">
   </a>
   <a name="M_824365677_28632">
   </a>
   Return Value
  </h2>
  <p>
   The result of an opening operation is that small features (e.g., noise) within the image are removed, yet the original sizes of the primary foreground features are maintained.
  </p>
  <h2 class="API">
   <a name="M_824365677_949079">
   </a>
   <a name="M_824365677_949079_PageTOC_MORPH_OPEN_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   Image
  </h3>
  <p>
   A one-, two-, or three-dimensional array upon which the opening operation is to be performed. If neither of the keywords GRAY or VALUES is present, the image is treated as a binary image with all nonzero pixels considered as 1.
  </p>
  <h3 class="Argument">
   Structure
  </h3>
  <p>
   A one-, two-, or three-dimensional array to be used as the structuring element. The elements are interpreted as binary values â€” either zero or nonzero. The structuring element must have the same number of dimensions as the
   <i>
    Image
   </i>
   argument.
  </p>
  <h2 class="API">
   <a name="M_824365677_949084">
   </a>
   <a name="M_824365677_949084_PageTOC_MORPH_OPEN_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="M_824365677_949085">
   </a>
   <a name="M_824365677_949085_Keywords_MORPH_OPEN__">
   </a>
   GRAY
  </h3>
  <p>
   Set this keyword to perform a grayscale, rather than binary, operation. Nonzero elements of the
   <i>
    Structure
   </i>
   parameter determine the shape of the structuring element. If the VALUES keyword is not present, all elements of the structuring element are 0.
  </p>
  <h3 class="Keyword">
   <a name="M_824365677_949087">
   </a>
   <a name="M_824365677_949087_Keywords_MORPH_OPEN__">
   </a>
   PRESERVE_TYPE
  </h3>
  <p>
   Set this keyword to return the same type as the input array. The input array must be of type BYTE, UINT, or ULONG. This keyword only applies for grayscale erosion/dilation, and is mutually exclusive of the UINT and ULONG keywords.
  </p>
  <h3 class="Keyword">
   <a name="M_824365677_949089">
   </a>
   <a name="M_824365677_949089_Keywords_MORPH_OPEN__">
   </a>
   UINT
  </h3>
  <p>
   Set this keyword to return an unsigned integer array. This keyword only applies for grayscale operations, and is mutually exclusive of the ULONG and PRESERVE_TYPE keywords.
  </p>
  <h3 class="Keyword">
   <a name="M_824365677_949091">
   </a>
   <a name="M_824365677_949091_Keywords_MORPH_OPEN__">
   </a>
   ULONG
  </h3>
  <p>
   Set this keyword to return an unsigned longword integer array. This keyword only applies for grayscale operations and is mutually exclusive of the UINT and PRESERVE_TYPE keywords.
  </p>
  <h3 class="Keyword">
   <a name="M_824365677_949093">
   </a>
   <a name="M_824365677_949093_Keywords_MORPH_OPEN__">
   </a>
   VALUES
  </h3>
  <p>
   An array of the same dimensions as
   <i>
    Structure
   </i>
   providing the values of the structuring element. The presence of this keyword implies a grayscale operation.
  </p>
  <h2 class="API">
   <a name="M_824365677_949095">
   </a>
   <a name="M_824365677_949095_PageTOC_MORPH_OPEN_">
   </a>
   Examples
  </h2>
  <p>
   The following code reads a data file in the IDL Demo data directory containing an magnified image of grains of pollen. It then applies a threshold and a morphological opening operator with a 3 by 3 square kernel to the original image. Notice that much of the irregular borders of the grains have been smoothed by the opening operator.
  </p>
  <p class="Code">
   ; Handle TrueColor displays:
   <br />
   DEVICE, DECOMPOSED=0
   <br />
   <br />
   ;Read the image
   <br />
   path=FILEPATH('pollens.jpg',SUBDIR=['examples','demo','demodata'])
   <br />
   READ_JPEG, path, img
   <br />
   <br />
   ; Create window:
   <br />
   WINDOW, 0, XSIZE=700, YSIZE=540
   <br />
   <br />
   ;Show original image
   <br />
   XYOUTS, 180, 525, 'Original Image', ALIGNMENT=.5, /DEVICE
   <br />
   TV, img, 20, 280
   <br />
   <br />
   ;Apply the threshold
   <br />
   thresh = img GE 140B
   <br />
   <br />
   ;Load a simple color table
   <br />
   TEK_COLOR
   <br />
   <br />
   ;Display edges
   <br />
   XYOUTS, 520, 525, 'Edges', ALIGNMENT=.5, /DEVICE
   <br />
   TV, thresh, 360, 280
   <br />
   <br />
   ;Apply opening operator
   <br />
   open = MORPH_OPEN(thresh, REPLICATE(1,3,3))
   <br />
   <br />
   ;Show the result
   <br />
   XYOUTS, 180, 265, 'Opening Operator', ALIGNMENT=.5, /DEVICE
   <br />
   TV, open, 20, 20
   <br />
   <br />
   ;Show pixels that have been removed in white
   <br />
   XYOUTS, 520, 265, 'Removed Pixels in White', ALIGNMENT=.5, /DEVICE
   <br />
   TV, open + thresh, 360, 20
  </p>
  <h2 class="API">
   <a name="M_824365677_954315">
   </a>
   <a name="M_824365677_954315_PageTOC_MORPH_OPEN_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       5.3
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="M_824365677_973037">
   </a>
   <a name="M_824365677_973037_PageTOC_MORPH_OPEN_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../D/DILATE.html#D_843829869_747869">
    DILATE
   </a>
   ,
   <a class="MCXref_Heading_0" href="../E/ERODE.html#E_841667181_989418">
    ERODE
   </a>
   ,
   <a class="MCXref_Heading_0" href="MORPH_CLOSE.html#M_824365677_1117238">
    MORPH_CLOSE
   </a>
   ,
   <a class="MCXref_Heading_0" href="MORPH_DISTANCE.html#M_824365677_948885">
    MORPH_DISTANCE
   </a>
   ,
   <a class="MCXref_Heading_0" href="MORPH_GRADIENT.html#M_824365677_948880">
    MORPH_GRADIENT
   </a>
   ,
   <a class="MCXref_Heading_0" href="MORPH_HITORMISS.html#M_824365677_930030">
    MORPH_HITORMISS
   </a>
   ,
   <a class="MCXref_Heading_0" href="MORPH_THIN.html#M_824365677_930961">
    MORPH_THIN
   </a>
   ,
   <a class="MCXref_Heading_0" href="MORPH_TOPHAT.html#M_824365677_930077">
    MORPH_TOPHAT
   </a>
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>