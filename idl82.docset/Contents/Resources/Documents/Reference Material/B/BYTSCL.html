<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: B" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   BYTSCL
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/B/BYTSCL.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="B_list.html">
    Routines: B
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    BYTSCL
   </span>
  </div>
  <h1 class="Routine">
   <a name="B_856805997_675956">
   </a>
   <a name="B_856805997_65656">
   </a>
   BYTSCL
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#B_856805997_675958">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_996829">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_675963">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_675970">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1043451">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_993484">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor184">
   </a>
   BYTSCL function
   <a name="kanchor185">
   </a>
   scales all values of
   <i>
    Array
   </i>
   that lie in the range (
   <i>
    Min
   </i>
   ≤
   <i>
    x
   </i>
   ≤
   <i>
    Max
   </i>
   ) into the range (0 ≤
   <i>
    x
   </i>
   ≤
   <i>
    Top
   </i>
   ).
  </p>
  <p class="Bullet">
   For floating-point input, each value is scaled using the formula (
   <i>
    Top
   </i>
   &#160;+&#160;0.9999)&#160;∞&#160;(
   <i>
    x
   </i>
   &#160;-&#160;
   <i>
    Min
   </i>
   )/(
   <i>
    Max
   </i>
   &#160;-&#160;
   <i>
    Min
   </i>
   ).
  </p>
  <p class="Bullet">
   For integer input, each value is scaled using the formula (
   <i>
    Top
   </i>
   &#160;+&#160;1)&#160;∞&#160;(
   <i>
    x
   </i>
   &#160;&#8209;&#160;
   <i>
    Min
   </i>
   &#160;&#8209;&#160;1)/(
   <i>
    Max
   </i>
   &#160;-&#160;
   <i>
    Min
   </i>
   ).
   <br />
   (See
   <a class="MCXref_Heading_0" href="#B_856805997_1044365" target="" title="" alt="">
    Note on Integer Computation
   </a>
   .)
  </p>
  <h2 class="API">
   <a name="B_856805997_675958">
   </a>
   <a name="B_856805997_675958_PageTOC_BYTSCL_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = BYTSCL(
   <i>
    Array
   </i>
   [,&#160;
   <a class="MCXref_Heading_0" href="#B_856805997_675964">
    MAX
   </a>
   =
   <i>
    value
   </i>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#B_856805997_675966">
    MIN
   </a>
   =
   <i>
    value
   </i>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#B_856805997_47179">
    NAN
   </a>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#B_856805997_675968">
    TOP
   </a>
   =
   <i>
    value
   </i>
   ] )
  </p>
  <h2 class="API">
   Return Value
  </h2>
  <p>
   The returned result has the same structure as the original parameter and is of byte type.
  </p>
  <h2 class="API">
   <a name="B_856805997_996829">
   </a>
   <a name="B_856805997_675960_PageTOC_BYTSCL_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   Array
  </h3>
  <p>
   The array to be scaled and converted to bytes.
  </p>
  <h2 class="API">
   <a name="B_856805997_675963">
   </a>
   <a name="B_856805997_675963_PageTOC_BYTSCL_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="B_856805997_675964">
   </a>
   <a name="B_856805997_675964_Keywords_BYTSCL__">
   </a>
   MAX
  </h3>
  <p>
   Set this keyword to the maximum value of
   <i>
    Array
   </i>
   to be considered. If MAX is not provided,
   <i>
    Array
   </i>
   is searched for its maximum value. All values greater or equal to MAX are set equal to TOP in the result.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   The data type of the value specified for MAX should match the data type of the input array. Since MAX is converted to the data type of the input array, specifying mismatched data types may produce undesired results.
  </p>
  <h3 class="Keyword">
   <a name="B_856805997_675966">
   </a>
   <a name="B_856805997_675966_Keywords_BYTSCL__">
   </a>
   MIN
  </h3>
  <p>
   Set this keyword to the minimum value of
   <i>
    Array
   </i>
   to be considered. If MIN is not provided,
   <i>
    Array
   </i>
   is searched for its minimum value. All values less than or equal to MIN are set equal to 0 in the result.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   The data type of the value specified for MIN should match the data type of the input array. Since MIN is converted to the data type of the input array, specifying mismatched data types may produce undesired results.
  </p>
  <h3 class="Keyword">
   <a name="B_856805997_47179">
   </a>
   <a name="B_856805997_47179_Keywords_BYTSCL__">
   </a>
   NAN
  </h3>
  <p>
   Set this keyword to cause the routine to check for occurrences of the IEEE floating-point values
   <i>
    NaN
   </i>
   or
   <i>
    Infinity
   </i>
   in the input data. Elements with the value
   <i>
    NaN
   </i>
   or
   <i>
    Infinity
   </i>
   are treated as missing data.
  </p>
  <h3 class="Keyword">
   <a name="B_856805997_675968">
   </a>
   <a name="B_856805997_675968_Keywords_BYTSCL__">
   </a>
   TOP
  </h3>
  <p>
   Set this keyword to the maximum value of the scaled result. If TOP is not specified, 255 is used. Note that the minimum value of the scaled result is always 0.
  </p>
  <h3>
   <a name="B_856805997_991109_PageTOC_BYTSCL_">
   </a>
   Thread Pool Keywords
  </h3>
  <p>
   This routine is written to make use of IDL’s
   <i>
    thread pool
   </i>
   , which can increase execution speed on systems with multiple CPUs. The values stored in the !CPU system variable control whether IDL uses the thread pool for a given computation. In addition, you can use the thread pool keywords TPOOL_MAX_ELTS, TPOOL_MIN_ELTS, and TPOOL_NOTHREAD to override the defaults established by !CPU for a single invocation of this routine.  See
   <a class="MCXref_Chapter_Reference_0" href="../../Creating IDL Programs/Appendices/tpoolkeyw.html#tpoolkeyw_2501860834_317209" target="" title="" alt="">
    Thread Pool Keywords
   </a>
   for details.
  </p>
  <h3>
   <a name="B_856805997_1044365">
   </a>
   <a name="B_856805997_52416">
   </a>
   Note on Integer Computation
  </h3>
  <p>
   When scaling integer values, the scaling algorithm is optimized for speed when the range of values (
   <i>
    Max
   </i>
   -
   <i>
    Min)
   </i>
   is less than 2
   <sup>
    22
   </sup>
   . In this case, the actual formula used is:
  </p>
  <p>
   <i>
    Scale
   </i>
   = (2
   <sup>
    22
   </sup>
   &#160;∞&#160;(
   <i>
    Top
   </i>
   + 1))/
   <i>
    (Max
   </i>
   -
   <i>
    Min
   </i>
   )
  </p>
  <p>
   <i>
    Result
   </i>
   = ((
   <i>
    x
   </i>
   -
   <i>
    Min
   </i>
   )&#160;∞&#160;
   <i>
    Scale
   </i>
   - 1)&#160;∞&#160;2
   <sup>
    -22
   </sup>
  </p>
  <p>
   where all computations are done using integer arithmetic.
  </p>
  <h2 class="API">
   <a name="B_856805997_675970">
   </a>
   <a name="B_856805997_675970_PageTOC_BYTSCL_">
   </a>
   Examples
  </h2>
  <p>
   BYTSCL is often used to scale images into the appropriate range for 8-bit displays. In the following example, we create a 200x200 image, and then rescale the image pixels from 0 through 255.
  </p>
  <p class="Code">
   image = DIST(200)
   <br />
   scaled_image = BYTSCL(image)
   <br />
   <br />
   ; Display the original and filtered images together
   <br />
   WINDOW, 0, XSIZE=400, YSIZE=200, $
   <br />
   TITLE="BYTSCL: Before and After"
   <br />
   TV, image, 0
   <br />
   TV, scaled_image, 1
  </p>
  <h2 class="API">
   <a name="B_856805997_1043451">
   </a>
   <a name="B_856805997_796016_PageTOC_BYTSCL_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       Original
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="B_856805997_993484">
   </a>
   <a name="B_856805997_993484_PageTOC_BYTSCL_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="BYTE.html#B_856805997_675883">
    BYTE
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>