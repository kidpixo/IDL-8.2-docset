<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: B" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   BANDREJECT_FILTER
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/B/BANDREJECT_FILTER.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="B_list.html">
    Routines: B
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    BANDREJECT_FILTER
   </span>
  </div>
  <h1 class="Routine">
   <a name="B_856805997_1044879">
   </a>
   <a name="B_856805997_28018">
   </a>
   BANDREJECT_FILTER
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#B_856805997_1044884">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1044895">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1044897">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1044904">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1044939">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1044947">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#B_856805997_1044954">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor125">
   </a>
   BANDREJECT_FILTER function applies a band reject filter on a one-channel image.
  </p>
  <p>
   A band reject filter is useful when the general location of the noise in the frequency domain is known. A band reject filter blocks frequencies within the chosen range and lets frequencies outside of the range pass through.
  </p>
  <p>
   The following diagrams give a visual interpretation of the transfer functions:
  </p>
  <p style="text-align: center;">
   <img src="../../images/bandreject.gif" style="margin-left: 127.6027px;margin-top: 3.77784px;margin-right: 127.6035px;margin-bottom: 4.149376px;width: 671px;height: 446px;" />
  </p>
  <p>
   This routine is written in the IDL language. Its source code can be found in the file
   <span class="Courier">
    bandreject_filter.pro
   </span>
   in the
   <span class="Courier">
    lib
   </span>
   subdirectory of the IDL distribution.
  </p>
  <h2 class="API">
   <a name="B_856805997_1044884">
   </a>
   <a name="B_856805997_1044884_PageTOC_BANDREJECT_FILTER__">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = BANDREJECT_FILTER(
   <i>
    ImageData
   </i>
   ,
   <i>
    LowFreq
   </i>
   ,
   <i>
    HighFreq
   </i>
   [,&#160;/
   <a class="MCXref_Heading_0" href="#B_856805997_1044906">
    IDEAL
   </a>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#B_856805997_1044917">
    BUTTERWORTH
   </a>
   =
   <i>
    value
   </i>
   ] [,&#160;/
   <a class="MCXref_Heading_0" href="#B_856805997_1044929">
    GAUSSIAN
   </a>
   ] )
  </p>
  <h2 class="API">
   <a name="B_856805997_1044895">
   </a>
   <a name="B_856805997_1044895_PageTOC_BANDREJECT_FILTER__">
   </a>
   Return Value
  </h2>
  <p>
   Returns a filtered image array of the same dimensions and type as
   <span class="_Override" style="font-style: italic;">
    ImageData
   </span>
   .
  </p>
  <h2 class="API">
   <a name="B_856805997_1044897">
   </a>
   <a name="B_856805997_1044897_PageTOC_BANDREJECT_FILTER__">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   ImageData
  </h3>
  <p>
   A two-dimensional array containing the pixel values of the input image.
  </p>
  <h3 class="Argument">
   LowFreq
  </h3>
  <p>
   The lower limit of the cutoff frequency band. This value should be between 0 and 1 (inclusive), and must be less than
   <i>
    HighFreq
   </i>
   .
  </p>
  <h3 class="Argument">
   HighFreq
  </h3>
  <p>
   The upper limit of the cutoff frequency band. This value should be between 0 and 1 (inclusive), and must be greater than
   <span class="_Override" style="font-style: italic;">
    LowFreq
   </span>
   .
  </p>
  <h2 class="API">
   <a name="B_856805997_1044904">
   </a>
   <a name="B_856805997_1044904_PageTOC_BANDREJECT_FILTER__">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="B_856805997_1044906">
   </a>
   <a name="B_856805997_18100">
   </a>
   IDEAL
  </h3>
  <p>
   Set this keyword to use an ideal band reject filter. In this type of filter, frequencies outside of the given range are passed without attenuation and frequencies inside of the given range are blocked. This behavior makes ideal band reject filters very sharp.
  </p>
  <p>
   In the previous diagram, the centered Fast Fourier Transform (FFT) is filtered by the following function, where
   <i>
    D
   </i>
   <sub class="italic">
    L
   </sub>
   is the lower bound of the frequency band,
   <i>
    D
   </i>
   <sub class="italic">
    H
   </sub>
   is the upper bound of the frequency band, and
   <i>
    D(u,v)
   </i>
   is the distance between a point
   <i>
    (u,v)
   </i>
   in the frequency domain and the center of the frequency rectangle:
  </p>
  <p style="text-align: left;">
   <img src="../../images/8_21.jpg" />
  </p>
  <h3 class="Keyword">
   <a name="B_856805997_1044917">
   </a>
   <a name="B_856805997_65916">
   </a>
   BUTTERWORTH
  </h3>
  <p>
   Set this keyword to the dimension of the Butterworth filter to apply to the frequency domain. With a Butterworth band reject filter, frequencies at the center of the frequency band are completely blocked and frequencies at the edge of the band are attenuated by a fraction of the maximum value. The Butterworth filter does not have any sharp discontinuities between passed and filtered frequencies.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   A low Butterworth dimension is close to Gaussian, and a high Butterworth dimension is close to Ideal.
  </p>
  <p>
   In the previous diagram, the centered FFT is filtered by the following function, where
   <i>
    D
   </i>
   <sub class="italic">
    0
   </sub>
   is the center of the frequency band,
   <i>
    W
   </i>
   is the width of the frequency band,
   <i>
    D(u,v)
   </i>
   is the distance between a point
   <i>
    (u,v)
   </i>
   in the frequency domain and the center of the frequency rectangle, and
   <i>
    n
   </i>
   is the dimension of the Butterworth filter:
  </p>
  <p style="text-align: left;">
   <img src="../../images/8_9.jpg" />
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   As n &#160;&gt;&#160; ∞, the Butterworth filter approaches the Ideal filter.
  </p>
  <h3 class="Keyword">
   <a name="B_856805997_1044929">
   </a>
   <a name="B_856805997_58738">
   </a>
   GAUSSIAN
  </h3>
  <p>
   Set this keyword to use a Gaussian band reject filter. In this type of filter, the transition between unfiltered and filtered frequencies is very smooth.
  </p>
  <p>
   In the previous diagram, the centered FFT is filtered by the following function, where
   <i>
    D
   </i>
   <sub class="italic">
    0
   </sub>
   is the center of the frequency band,
   <i>
    W
   </i>
   is the width of the frequency band, and
   <i>
    D(u,v)
   </i>
   is the distance between a point
   <i>
    (u,v)
   </i>
   in the frequency domain and the center of the frequency rectangle:
  </p>
  <p style="text-align: left;">
   <img src="../../images/8_22.jpg" />
  </p>
  <h2 class="API">
   <a name="B_856805997_1044939">
   </a>
   <a name="B_856805997_1044939_PageTOC_BANDREJECT_FILTER__">
   </a>
   Examples
  </h2>
  <p>
   In the following example, we add some sinusoidal noise to an image and filter it with BANDREJECT_FILTER.
  </p>
  <p class="Code">
   ; Read in the file
   <br />
   file = FILEPATH('moon_landing.png', SUBDIR=['examples','data'])
   <br />
   imageOriginal = READ_PNG(file)
   <br />
   <br />
   ; Generate some sinusoidal noise.
   <br />
   xCoords = LINDGEN(300,300) MOD 300
   <br />
   yCoords = TRANSPOSE(xCoords)
   <br />
   noise = -SIN(xCoords*1.5)-SIN(yCoords*1.5)
   <br />
   imageNoise = imageOriginal + 50*noise
   <br />
   <br />
   ; Filter the noise with a band reject filter
   <br />
   imageFiltered = BANDREJECT_FILTER(imageNoise, 0.28, 0.38)
   <br />
   <br />
   ; Find the image dimensions so we can display three of them
   <br />
   ; side by side in an iImage iTool
   <br />
   dims = [(SIZE(imageOriginal))[1]*3, $
   <br />
   &#160;&#160;&#160;(SIZE(imageOriginal))[2]*1+120]
   <br />
   <br />
   ; Display the original, noise-added, and filtered images
   <br />
   IIMAGE, imageOriginal, VIEW_GRID=[3,1], $
   <br />
   &#160;&#160;&#160;VIEW_TITLE='Original Image', $
   <br />
   &#160;&#160;&#160;DIMENSIONS=dims, WINDOW_TITLE='BANDREJECT_FILTER Example', $
   <br />
   &#160;&#160;&#160;/NO_SAVEPROMPT
   <br />
   IIMAGE, imageNoise, /VIEW_NEXT, VIEW_TITLE='Added Noise'
   <br />
   IIMAGE, imageFiltered, /VIEW_NEXT, $
   <br />
   &#160;&#160;&#160;VIEW_TITLE='Using BANDREJECT_FILTER'
   <br />
   <br />
   ; Increase the text size
   <br />
   ISETPROPERTY, 'text*', FONT_SIZE=36
  </p>
  <p>
   &#160;
  </p>
  <p>
   <img src="../../images/bandreject_filter_ex.gif" style="margin-left: 26.70192px;margin-top: 5.99976px;margin-right: 26.70195px;margin-bottom: 6.06599px;width: 796px;height: 395px;" />
  </p>
  <p class="FigureTitle">
   Filtered Image using BANDREJECT_FILTER
  </p>
  <h2 class="API">
   <a name="B_856805997_1044947">
   </a>
   <a name="B_856805997_1044947_PageTOC_BANDREJECT_FILTER__">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       7.1
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="B_856805997_1044954">
   </a>
   <a name="B_856805997_1044954_PageTOC_BANDREJECT_FILTER__">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../M/MEAN_FILTER.html#M_824365677_1160294">
    MEAN_FILTER
   </a>
   ,
   <a class="MCXref_Heading_0" href="../E/ESTIMATOR_FILTER.html#E_841667181_1035909" target="" title="" alt="">
    ESTIMATOR_FILTER
   </a>
   ,
   <a class="MCXref_Heading_0" href="BANDPASS_FILTER.html#B_856805997_1044554">
    BANDPASS_FILTER
   </a>
   ,
   <a class="MCXref_Heading_0" href="../W/WIENER_FILTER.html#W_811389549_1250099">
    WIENER_FILTER
   </a>
   ,
   <a class="MCXref_Heading_0" href="../L/LEAST_SQUARES_FILTER.html#L_826528365_1072970">
    LEAST_SQUARES_FILTER
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>