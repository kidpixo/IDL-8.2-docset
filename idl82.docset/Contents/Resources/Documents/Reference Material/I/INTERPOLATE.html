<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Routines (alphabetical)|Routines: I" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   INTERPOLATE
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/VersionTable.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Reference Material/I/INTERPOLATE.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../images/ref_part1.html">
    Routines (alphabetical)
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="I_list.html">
    Routines: I
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    INTERPOLATE
   </span>
  </div>
  <h1 class="Routine">
   <a name="I_833016429_677258">
   </a>
   <a name="I_833016429_72496">
   </a>
   INTERPOLATE
  </h1>
  <p madcap:conditions="Reference Material.Online_Help_Only">
   <madcap:conditionaltext madcap:conditions="Reference Material.Online_Help_Only">
    <a class="MCXref_Heading_0" href="#I_833016429_677261">
     Syntax
    </a>
    |
    <a class="MCXref_Heading_0" href="#I_833016429_884847">
     Return Value
    </a>
    |
    <a class="MCXref_Heading_0" href="#I_833016429_677263">
     Arguments
    </a>
    |
    <a class="MCXref_Heading_0" href="#I_833016429_677270">
     Keywords
    </a>
    |
    <a class="MCXref_Heading_0" href="#I_833016429_677278">
     Examples
    </a>
    |
    <a class="MCXref_Heading_0" href="#I_833016429_769782">
     Version History
    </a>
    |
    <a class="MCXref_Heading_0" href="#I_833016429_880844">
     See Also
    </a>
   </madcap:conditionaltext>
  </p>
  <p>
   The
   <a name="kanchor1553">
   </a>
   INTERPOLATE function returns an array of linear, bilinear or trilinear interpolates, depending on the dimensions of the input array
   <i>
    P
   </i>
   .
  </p>
  <p>
   Interpolates outside the bounds of
   <i>
    P
   </i>
   can be set to a user-specified value by using the MISSING keyword.
  </p>
  <h2 class="API">
   <a name="I_833016429_677261">
   </a>
   <a name="I_833016429_677261_PageTOC_INTERPOLATE_">
   </a>
   Syntax
  </h2>
  <p class="Syntax">
   <i>
    Result
   </i>
   = INTERPOLATE(
   <i>
    P
   </i>
   ,
   <i>
    X
   </i>
   [,&#160;
   <i>
    Y
   </i>
   [,&#160;
   <i>
    Z
   </i>
   ]] [,&#160;
   <a class="MCXref_Heading_0" href="#I_833016429_680782">
    CUBIC
   </a>
   =
   <i>
    value
   </i>
   {-1 to 0}] [,&#160;/
   <a class="MCXref_Heading_0" href="#I_833016429_680781">
    GRID
   </a>
   ] [,&#160;
   <a class="MCXref_Heading_0" href="#I_833016429_677276">
    MISSING
   </a>
   =
   <i>
    value
   </i>
   ] )
  </p>
  <h2 class="API">
   <a name="I_833016429_884847">
   </a>
   <a name="I_833016429_67120">
   </a>
   Return Value
  </h2>
  <p>
   Linear interpolates are returned in the one-dimensional case, bilinear in the two-dimensional case and trilinear interpolates in the three-dimensional case. The returned array has the same type as
   <i>
    P
   </i>
   and its dimensions depend on those of the location parameters
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and
   <i>
    Z
   </i>
   , as explained below.
  </p>
  <h2 class="API">
   <a name="I_833016429_677263">
   </a>
   <a name="I_833016429_677263_PageTOC_INTERPOLATE_">
   </a>
   Arguments
  </h2>
  <h3 class="Argument">
   P
  </h3>
  <p>
   The array of data values.
   <i>
    P
   </i>
   can be an array of any dimension. Interpolation occurs in the
   <span class="_Override" style="font-style: italic;">
    M
   </span>
   rightmost indices of
   <span class="_Override" style="font-style: italic;">
    P
   </span>
   , where
   <span class="_Override" style="font-style: italic;">
    M
   </span>
   is the number of interpolation arrays. For example, if
   <i>
    P
   </i>
   has dimensions N
   <sub>
    i
   </sub>
   x N
   <sub>
    j
   </sub>
   , and only
   <i>
    X
   </i>
   is supplied (with N
   <sub>
    x
   </sub>
   elements), the result has dimensions N
   <sub>
    i
   </sub>
   x N
   <sub>
    x
   </sub>
   . This allows you to do a linear interpolation for each column of an array, without having to manually loop over all of the columns.
  </p>
  <h3 class="Argument">
   X, Y, Z
  </h3>
  <p>
   Arrays of numeric type containing the locations for which interpolates are desired. For linear interpolation (
   <i>
    P
   </i>
   is a vector), the result has the same dimensions as
   <span class="_Override" style="font-style: italic;">
    X
   </span>
   . The
   <i>
    i
   </i>
   -th element of the result is
   <i>
    P
   </i>
   interpolated at location
   <i>
    X
   </i>
   <sub class="italic">
    i
   </sub>
   . The
   <i>
    Y
   </i>
   and
   <i>
    Z
   </i>
   parameters should be omitted.
  </p>
  <p>
   For bilinear interpolation
   <i>
    Z
   </i>
   should not be present.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Location points outside the bounds of the array
   <i>
    P
   </i>
   —that is, elements of the
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , or
   <i>
    Z
   </i>
   arguments that are either less than zero or greater than the largest subscript in the corresponding dimension of
   <i>
    P —
   </i>
   are interpolated to the closest value within the bounds of the array
   <i>
    P
   </i>
   .
  </p>
  <p>
   If the keyword GRID is not set, all location arrays must have the same number of elements. See the description of the GRID keyword below for more details on how interpolates are computed from
   <i>
    P
   </i>
   and these arrays.
  </p>
  <h2 class="API">
   <a name="I_833016429_677270">
   </a>
   <a name="I_833016429_677270_PageTOC_INTERPOLATE_">
   </a>
   Keywords
  </h2>
  <h3 class="Keyword">
   <a name="I_833016429_680782">
   </a>
   <a name="I_833016429_680782_Keywords_INTERPOLATE__">
   </a>
   <a name="kanchor1554">
   </a>
   CUBIC
  </h3>
  <p>
   Set this keyword to a value between -1 and 0 to use the cubic convolution interpolation method with the specified value as the interpolation parameter. Setting this keyword equal to a value greater than zero specifies a value of -1 for the interpolation parameter. Park and Schowengerdt (see reference below) suggest that a value of -0.5 significantly improves the reconstruction properties of this algorithm.
  </p>
  <p>
   Cubic convolution is an interpolation method that closely approximates the theoretically optimum sinc interpolation function using cubic polynomials. According to sampling theory, details of which are beyond the scope of this document, if the original signal,
   <i>
    f
   </i>
   , is a band-limited signal, with no frequency component larger than ω
   <sub style="font-family: Times;">
    0
   </sub>
   , and
   <i>
    f
   </i>
   is sampled with spacing less than or equal to 1/(2ω
   <sub style="font-family: Times;">
    0
   </sub>
   ), then
   <i>
    f
   </i>
   can be reconstructed by convolving with a sinc function: sinc(
   <i>
    x
   </i>
   ) = sin(π
   <i style="font-family: Times;font-style: italic;">
    x
   </i>
   ) / (π
   <i style="font-family: Times;font-style: italic;">
    x
   </i>
   ).
  </p>
  <p>
   The number of neighboring points used varies according to the dimension:
  </p>
  <ol>
   <li value="1">
    1-dimensional: 4 points
   </li>
   <li value="2">
    2-dimensional: 16 points
   </li>
   <li value="3">
    3-dimensional: not supported
   </li>
  </ol>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Cubic convolution interpolation is significantly slower than bilinear interpolation. Also note that cubic interpolation is not supported for three-dimensional data.
  </p>
  <p>
   For further details see:
  </p>
  <p>
   Rifman, S.S. and McKinnon, D.M., “Evaluation of Digital Correction Techniques for ERTS Images; Final Report”, Report 20634-6003-TU-00, TRW Systems, Redondo Beach, CA, July 1974.
  </p>
  <p>
   S. Park and R. Schowengerdt, 1983 “Image Reconstruction by Parametric Cubic Convolution”, Computer Vision, Graphics &amp; Image Processing 23, 256.
  </p>
  <h3 class="Keyword">
   <a name="I_833016429_680781">
   </a>
   <a name="I_833016429_680781_Keywords_INTERPOLATE__">
   </a>
   GRID
  </h3>
  <p>
   The GRID keyword controls how the location arrays specify where interpolates are desired. This keyword has no effect in the case of linear interpolation.
  </p>
  <p>
   <span class="Bold">
    If GRID is not set:
   </span>
   The location arrays
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and (if present)
   <i>
    Z
   </i>
   , must have the same number of elements. The returned array has the same type as
   <i>
    P
   </i>
   , and its dimensions depend on those of the location parameters
   <i>
    X
   </i>
   ,
   <i>
    Y
   </i>
   , and
   <i>
    Z
   </i>
   , as previously explained for the
   <i>
    P
   </i>
   argument.
  </p>
  <p>
   In the case of bilinear interpolation, the result is obtained as follows: Let
   <img src="../../Resources/Images/interpolate_l.jpg" style="width: 71px;height: 18px;vertical-align: baseline;" />
   and
   <img src="../../Resources/Images/interpolate_k.jpg" style="width: 64px;height: 20px;" />
   .
  </p>
  <p>
   Element
   <i>
    i
   </i>
   of the result is computed by interpolating between
   <i>
    P
   </i>
   (
   <i>
    l, k
   </i>
   ),
   <i>
    P
   </i>
   (
   <i>
    l
   </i>
   +1,
   <i>
    k
   </i>
   ),
   <i>
    P
   </i>
   (
   <i>
    l
   </i>
   ,
   <i>
    k
   </i>
   +1), and
   <i>
    P
   </i>
   (
   <i>
    l
   </i>
   +1,
   <i>
    k
   </i>
   +1). to obtain the estimated value at (
   <i>
    Xi
   </i>
   ,
   <i>
    Yi
   </i>
   ). Trilinear interpolation is a direct extension of the above.
  </p>
  <p>
   <span class="Bold">
    If GRID is set:
   </span>
   Let
   <i>
    N
   </i>
   <sub class="italic">
    x
   </sub>
   be the number of elements in
   <i>
    X
   </i>
   , let
   <i>
    N
   </i>
   <sub class="italic">
    y
   </sub>
   be the number of elements in
   <i>
    Y
   </i>
   , and
   <i>
    N
   </i>
   <sub class="italic">
    z
   </sub>
   be the number of elements in
   <i>
    Z
   </i>
   . The result has dimensions (
   <i>
    N
   </i>
   <sub class="italic">
    x
   </sub>
   ,
   <i>
    N
   </i>
   <sub class="italic">
    y
   </sub>
   ) for bilinear interpolation, and (
   <i>
    N
   </i>
   <sub class="italic">
    x
   </sub>
   ,
   <i>
    N
   </i>
   <sub class="italic">
    y
   </sub>
   ,
   <i>
    N
   </i>
   <sub class="italic">
    z
   </sub>
   ) for trilinear interpolation. For bilinear interpolation, element (
   <i>
    i
   </i>
   ,
   <i>
    j
   </i>
   ) of the result contains the value of
   <i>
    P
   </i>
   interpolated at position (
   <i>
    Xi
   </i>
   ,
   <i>
    Yi
   </i>
   ). For trilinear interpolation, element (
   <i>
    i
   </i>
   ,
   <i>
    j
   </i>
   ,
   <i>
    k
   </i>
   ) of the result is
   <i>
    P
   </i>
   interpolated at (
   <i>
    Xi
   </i>
   ,
   <i>
    Yi
   </i>
   ,
   <i>
    Zi
   </i>
   ).
  </p>
  <h3 class="Keyword">
   <a name="I_833016429_677276">
   </a>
   <a name="I_833016429_677276_Keywords_INTERPOLATE__">
   </a>
   MISSING
  </h3>
  <p>
   The value to return for elements outside the bounds of
   <i>
    P.
   </i>
   For one-dimensional input, the bounds of
   <i>
    P
   </i>
   are 0 to
   <i>
    n
   </i>
   , where
   <i>
    n
   </i>
   is the number of elements in
   <i>
    P
   </i>
   . For higher-dimensional input, the bounds of
   <i>
    P
   </i>
   are 0 to
   <i>
    n
   </i>
   -1 where
   <i>
    n
   </i>
   is the largest subscript of the corresponding dimension of
   <i>
    P
   </i>
   .
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   If MISSING value is set to a complex number, IDL uses only the real part.
  </p>
  <h3>
   <a name="I_833016429_878024_PageTOC_INTERPOLATE_">
   </a>
   Thread Pool Keywords
  </h3>
  <p>
   This routine is written to make use of IDL’s
   <i>
    thread pool
   </i>
   , which can increase execution speed on systems with multiple CPUs. The values stored in the !CPU system variable control whether IDL uses the thread pool for a given computation. In addition, you can use the thread pool keywords TPOOL_MAX_ELTS, TPOOL_MIN_ELTS, and TPOOL_NOTHREAD to override the defaults established by !CPU for a single invocation of this routine. See
   <a class="MCXref_Heading_0" href="../../Creating IDL Programs/Appendices/tpoolkeyw.html#tpoolkeyw_2501860834_317209" target="" title="" alt="">
    Thread Pool Keywords
   </a>
   for details.
  </p>
  <h2 class="API">
   <a name="I_833016429_677278">
   </a>
   <a name="I_833016429_677278_PageTOC_INTERPOLATE_">
   </a>
   Examples
  </h2>
  <p>
   The example below computes bilinear interpolates with the keyword GRID set:
  </p>
  <p class="Code">
   p = FINDGEN(4,4)
   <br />
   PRINT, INTERPOLATE(p, [.5, 1.5, 2.5], [.5, 1.5, 2.5], /GRID)
  </p>
  <p>
   and prints the 3 by 3 array:
  </p>
  <p class="Code">
   &#160;&#160;&#160;2.50000 &#160;&#160;3.50000&#160;&#160; 4.50000
  </p>
  <p class="Code">
   &#160;&#160;&#160;6.50000 &#160;&#160;7.50000 &#160;&#160;8.50000
  </p>
  <p class="Code">
   &#160;&#160;&#160;10.5000 &#160;&#160;11.5000 &#160;&#160;12.5000
  </p>
  <p>
   corresponding to the locations:
  </p>
  <p>
   (.5,.5), (1.5, .5), (2.5, .5),
   <br />
   (.5,1.5), (1.5, 1.5), (2.5, 1.5),
   <br />
   (.5,2.5), (1.5, 2.5), (2.5, 2.5)
  </p>
  <p>
   Another example computes interpolates, with GRID not set and a parameter outside the bounds of
   <i>
    P
   </i>
   :
  </p>
  <p class="Code">
   PRINT, INTERPOLATE(p, [.5, 1.5, 2.5, 3.1], [.5, 1.5, 2.5, 2])
  </p>
  <p>
   and prints the result:
  </p>
  <p class="Code">
   &#160;&#160;2.50000&#160;&#160; 7.50000&#160;&#160; 12.5000&#160;&#160; 11.0000
  </p>
  <p>
   corresponding to the locations (.5,.5), (1.5, 1.5), (2.5, 2.5) and (3.1, 2.0). Note that the last location is outside the bounds of
   <i>
    P
   </i>
   and is set from the value of the last column. The following command uses the MISSING keyword to set such values to -1:
  </p>
  <p class="Code">
   PRINT, INTERPOLATE(p, [.5, 1.5, 2.5, 3.1], [.5, 1.5, 2.5, 2], $
   <br />
   &#160;&#160;&#160;MISSING = -1)
  </p>
  <p>
   and gives the result:
  </p>
  <p class="Code">
   &#160;&#160; 2.50000&#160;&#160; 7.50000&#160;&#160; 12.5000&#160;&#160; -1.00000
  </p>
  <h2 class="API">
   <a name="I_833016429_769782">
   </a>
   <a name="I_833016429_769782_PageTOC_INTERPOLATE_">
   </a>
   Version History
  </h2>
  <table style="width: 499px;caption-side: top;mc-table-style: url('../../Resources/TableStyles/VersionTable.css');" cellspacing="0" class="TableStyle_VersionTable">
   <col width="91px" />
   <col width="408px" />
   <tbody>
    <tr>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColSep">
      <p>
       Pre 4.0
      </p>
     </td>
     <td class="TableStyle_VersionTable_Body_0_0_RowEnd_ColEnd">
      <p>
       Introduced
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <h2 class="API">
   <a name="I_833016429_880844">
   </a>
   <a name="I_833016429_880844_PageTOC_INTERPOLATE_">
   </a>
   See Also
  </h2>
  <p>
   <a class="MCXref_Heading_0" href="../B/BILINEAR.html#B_856805997_998860">
    BILINEAR
   </a>
   ,
   <a class="MCXref_Heading_0" href="INTERPOL.html#I_833016429_872030">
    INTERPOL
   </a>
   ,
   <a class="MCXref_Heading_0" href="../K/KRIG2D.html#K_837341805_750558">
    KRIG2D
   </a>
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>