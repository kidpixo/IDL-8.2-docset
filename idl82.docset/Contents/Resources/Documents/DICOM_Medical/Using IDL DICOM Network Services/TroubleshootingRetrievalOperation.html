<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="Additional Topics|Medical Imaging in IDL|Using IDL DICOM Network Services|Querying a Remote Machine" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Troubleshooting a Retrieval Operation
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#DICOM_Medical/Using IDL DICOM Network Services/TroubleshootingRetrievalOperation.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../OtherTopics.html">
    Additional Topics
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../Expanded DICOM Support in IDL/ExpandedDICOMFunctionality.html">
    Medical Imaging in IDL
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="Overview.html">
    Using IDL DICOM Network Services
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Troubleshooting a Retrieval Operation
   </span>
  </div>
  <h2 class="API">
   Troubleshooting a Retrieval Operation
   <a name="kanchor4989">
   </a>
  </h2>
  <p>
   There are common configuration errors that can lead to retrieval problems. If one of the following errors appear in the
   <span class="Bold">
    Status
   </span>
   window of the
   <span class="Bold">
    Query Retrieve SCU
   </span>
   tab, consider the following possible resolutions:
  </p>
  <table style="caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: auto;margin-right: auto;" cellspacing="0" class="TableStyle_Description">
   <col width="178px" />
   <col width="321px" />
   <thead>
    <tr>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       Error
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
      <p>
       Resolution
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       Move destination unknown.
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       The remote machine does not recognize the retrieve
       <span class="Bold">
        Destination Node
       </span>
       . Try these steps:
      </p>
      <p class="CellNumbered1">
       Make sure that your current Storage SCP Application Entity is selected in this droplist. This is described in
       <a href="QueryRemoteNode.html">
        Query the Remote Node
       </a>
       .
      </p>
      <p class="CellNumbered">
       Echo the Storage SCP Application Entity to verify valid network connection settings. See
       <a href="ReturningConnectionStatusWithEcho.html">
        Returning Connection Status with Echo
       </a>
       .
      </p>
      <p class="CellNumbered">
       Try to send a file to the Storage SCP directory by selecting a local directory containing any DICOM file and sending it to yourself using the Storage SCU functionality. See
       <a href="SendingFilesToRemoteDestination.html">
        Sending Files to a Remote Destination
       </a>
       for details.
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       Unable to process error.
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
      <p>
       If all of the resolutions in the previous steps work correctly, the problem is likely with the configuration of the your Storage SCP Application Entity information on the remote machine. Check these settings on the machine you are attempting to query. See
       <a href="DefiningMachineToBeQueried.html">
        Defining a Machine to Be Queried
       </a>
       for more information.
      </p>
      <p>
       If you are running Windows XP service pack 2, the firewall that is automatically started is likely blocking incoming DICOM packets. See
       <a href="#Allowing">
        Allowing File Transfer with a Windows XP Firewall
       </a>
       for ways to modify your firewall settings.
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
      <p>
       Files do not appear in the specified directory.
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
      <p>
       Restart the Storage SCP service. After making any changes to the configuration properties of a Storage SCP Application Entity while in system configuration mode (when the
       <span class="Bold">
        DICOM Network Services
       </span>
       utility is started with
       <span class="Courier">
        DICOMEX_NET, /SYSTEM
       </span>
       ), you must stop and restart the Storage SCP Service. Use the
       <span class="Bold">
        Stop Service
       </span>
       and the
       <span class="Bold">
        Start Service
       </span>
       buttons on the
       <span class="Bold">
        Configuration
       </span>
       tab. See
       <a href="ManagingStorageSCPService.html">
        Managing the Storage SCP Service
       </a>
       for details.
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   If you are unable to retrieve files, verify that virus scanning software is not blocking the transfer. If file transfers are extremely slow, you may want to disable any virus scanning software when performing query, retrieve or send operations.
  </p>
  <h3>
   <a name="Allowing">
   </a>
   Allowing File Transfer with a Windows XP Firewall
  </h3>
  <p>
   By default, Windows XP service pack 2 automatically starts a firewall. This blocks DIOCM file packet transfer until you either modify your firewall settings or disable the firewall.
  </p>
  <p>
   To modify your firewall settings to include the port number associated with your IDL_AE_STOR_SCP Application Entity (as defined in
   <a href="ConfiguringSystemToReceiveFiles.html">
    Configuring Your System to Receive Files
   </a>
   ), complete the following steps.
  </p>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      1.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="1. " valign="top">
     Select
     <b>
      Start &gt; Control Panel &gt; Windows Firewall
     </b>
     .
    </td>
   </tr>
  </table>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      2.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="2. " valign="top">
     Click on the
     <span class="Bold">
      Exceptions
     </span>
     tab and add the port number of entity associated with your Store SCP application entity. Select
     <span class="Bold">
      Add Port
     </span>
     and enter a name identifying the port and the port number. If you accepted the default settings for the IDL_AE_STOR_SCP Application Entity, the port number is 2510.
    </td>
   </tr>
  </table>
  <table class="AutoNumber_p_Numbered1" style="width: 100%; margin-left: 0;" cellspacing="0" cellpadding="0">
   <col style="width: 16px;" />
   <col style="width: 24px;" />
   <col style="width: auto;" />
   <tr>
    <td valign="top">
    </td>
    <td class="AutoNumber_p_Numbered1" valign="top">
     <span>
      3.
     </span>
    </td>
    <td class="AutoNumber_p_Numbered1" madcap:autonum="3. " valign="top">
     Click
     <span class="Bold">
      OK
     </span>
     to save the changes and
     <span class="Bold">
      OK
     </span>
     to exit the dialog.
    </td>
   </tr>
  </table>
  <p>
   You also have the option to completely disable the firewall, although this should be done only if there is low risk of infection from viruses or other external attacks. To disable your firewall, select
   <b>
    Start &gt; Control Panel &gt; Windows Firewall
   </b>
   and choose
   <span class="Bold">
    Off
   </span>
   . Click
   <span class="Bold">
    OK
   </span>
   to save the changes and exit the dialog.
  </p>
  <div class="mp_footer">
   Copyright Â©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>