<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="IDL Programming|Concepts|String Operations" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Substrings
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Creating IDL Programs/Components of the IDL Language/Substrings.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Programming.html">
    IDL Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingConcepts.html">
    Concepts
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="String_Operations.html">
    String Operations
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Substrings
   </span>
  </div>
  <h1>
   <a name="strings_3486979161_288062">
   </a>
   <a name="strings_3486979161_64287">
   </a>
   Substrings
  </h1>
  <p>
   IDL provides the
   <a name="kanchor3494">
   </a>
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRPOS.html#S_820040301_679132" target="" title="" alt="">
    STRPOS
   </a>
   ,
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRPUT.html#S_820040301_679148" target="" title="" alt="">
    STRPUT
   </a>
   , and
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRMID.html#S_820040301_1074010" target="" title="" alt="">
    STRMID
   </a>
   routines to locate, insert, and extract substrings from their string arguments.
  </p>
  <h2 class="API">
   <a name="strings_3486979161_18640">
   </a>
   Searching for a Substring
  </h2>
  <p>
   The
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRPOS.html#S_820040301_679132">
    STRPOS
   </a>
   function is used to
   <a name="kanchor3495">
   </a>
   search for the first occurrence of a substring. It has the form
  </p>
  <p class="indent">
   S = STRPOS(
   <i>
    Object
   </i>
   ,
   <i>
    Search_string
   </i>
   [,
   <i>
    Position
   </i>
   ])
  </p>
  <p>
   where
   <i>
    Object
   </i>
   is the string to be searched,
   <i>
    Search_string
   </i>
   is the substring to search for, and
   <i>
    Position
   </i>
   is the character position (starting with position 0) at which the search is begun. If the optional argument
   <i>
    Position
   </i>
   is omitted, the search is started at the first character (character position 0). The following IDL procedure counts the number of times that the word “dog” appears in the string “dog cat duck rabbit dog cat dog”:
  </p>
  <p class="Code">
   PRO Animals
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; The search string, "dog", appears three times.
  </p>
  <p class="Code">
   animals = 'dog cat duck rabbit dog cat dog'
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Start searching in character position 0.
  </p>
  <p class="Code">
   I = 0
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Number of occurrences found.
  </p>
  <p class="Code">
   cnt = 0
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Search for an occurrence.
  </p>
  <p class="Code">
   WHILE (I NE -1) DO BEGIN
  </p>
  <p class="Code">
   &#160;&#160;&#160;I = STRPOS(animals, 'dog', I)
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;IF (I NE -1) THEN BEGIN
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;; Update counter.
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;cnt = cnt + 1
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;;I ncrement I so as not to count the same instance of 'dog'
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;; twice.
  </p>
  <p class="Code">
   &#160;&#160;&#160;&#160;&#160;I = I + 1
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   &#160;&#160;&#160;ENDIF
  </p>
  <p class="Code">
   ENDWHILE
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Print the result.
  </p>
  <p class="Code">
   PRINT, 'Found ', cnt, " occurrences of 'dog'"
  </p>
  <p class="Code">
   END
  </p>
  <p>
   Running the above program produces the result below.
  </p>
  <p class="Code">
   Found         3 occurrences of 'dog'
  </p>
  <h2 class="API">
   <a name="strings_3486979161_79117">
   </a>
   Searching For the Last Occurrence of a Substring
  </h2>
  <p>
   The REVERSE_SEARCH keyword to the
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRPOS.html#S_820040301_679132">
    STRPOS
   </a>
   function makes it easy to find the
   <a name="kanchor3496">
   </a>
   last occurrence of a substring within a string. In the following example, we search for the last occurrence of the letter “I” (or “i”) in a sentence:
  </p>
  <p class="Code">
   sentence = 'IDL is fun.'
  </p>
  <p class="Code">
   sentence = STRUPCASE(sentence)
  </p>
  <p class="Code">
   lasti = STRPOS(sentence, 'I', /REVERSE_SEARCH)
  </p>
  <p class="Code">
   PRINT, lasti
  </p>
  <p>
   This results in:
  </p>
  <p class="Code">
   4
  </p>
  <p>
   Note that although REVERSE_SEARCH tells STRPOS to begin searching from the end of the string, the STRPOS function still returns the position of the search string starting from the beginning of the string (where 0 is the position of the first character).
  </p>
  <h2 class="API">
   <a name="strings_3486979161_63109">
   </a>
   Inserting the Contents of One String into Another
  </h2>
  <p>
   The
   <a name="kanchor3497">
   </a>
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRPUT.html#S_820040301_679148">
    STRPUT
   </a>
   procedure is used to insert the contents of one string into another. It has the form,
  </p>
  <p class="indent">
   STRPUT,
   <i>
    Destination
   </i>
   ,
   <i>
    Source
   </i>
   [,
   <i>
    Position
   </i>
   ]
  </p>
  <p>
   where
   <i>
    Destination
   </i>
   is the string to be overwritten,
   <i>
    Source
   </i>
   is the string to be inserted, and
   <i>
    Position
   </i>
   is the first character position within
   <i>
    Destination
   </i>
   at which
   <i>
    Source
   </i>
   will be inserted. If the optional argument
   <i>
    Position
   </i>
   is omitted, the overwrite is started at the first character (character position 0). The following IDL statements use STRPOS and STRPUT to replace every occurrence of the word “dog” with the word “CAT” in the string “dog cat duck rabbit dog cat dog”:
  </p>
  <p class="Code">
   animals = 'dog cat duck rabbit dog cat dog'
  </p>
  <p class="Code">
   ;The string to search, "dog", appears three times.
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ;While any occurrence of "dog" exists, replace it.
  </p>
  <p class="Code">
   WHILE (((I = STRPOS(animals, 'dog'))) NE -1) DO $
  </p>
  <p class="Code">
   STRPUT, animals, 'CAT', I
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ;Show the resulting string.
  </p>
  <p class="Code">
   PRINT, animals
  </p>
  <p>
   Running the above statements produces the result below.
  </p>
  <p class="Code">
   CAT cat duck rabbit CAT cat CAT
  </p>
  <h2 class="API">
   <a name="strings_3486979161_33933">
   </a>
   Extracting Substrings
  </h2>
  <p>
   The
   <a name="kanchor3498">
   </a>
   <a class="MCXref_Heading_0" href="../../Reference Material/S/STRMID.html#S_820040301_1074010">
    STRMID
   </a>
   function is used for extracting substrings from a larger string. It has the form:
  </p>
  <p class="indent">
   STRMID(
   <i>
    Expression
   </i>
   ,
   <i>
    First_Character
   </i>
   [,
   <i>
    Length
   </i>
   ])
  </p>
  <p>
   where
   <i>
    Expression
   </i>
   is the string from which the substring will be extracted,
   <i>
    First_Character
   </i>
   is the starting position within
   <i>
    Expression
   </i>
   of the substring (the first position is position 0), and
   <i>
    Length
   </i>
   is the length of the substring to extract. If there are not
   <i>
    Length
   </i>
   characters following the position
   <i>
    First_Character,
   </i>
   the substring will be truncated. If the
   <i>
    Length
   </i>
   argument is not supplied, STRMID extracts all characters from the specified starting position to the end of the string. The following IDL statements use STRMID to print a table matching the number of each month with its three-letter abbreviation:
  </p>
  <p class="Code">
   ; String containing all the month names.
  </p>
  <p class="Code">
   months = 'JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC'
  </p>
  <p class="Code">
   &#160;
  </p>
  <p class="Code">
   ; Extract each name in turn. The equation (I-1)*3 calculates the
  </p>
  <p class="Code">
   ; position within MONTH for each abbreviation
  </p>
  <p class="Code">
   FOR I = 1, 12 DO PRINT, I, '&#160;&#160;&#160;&#160;&#160;&#160;', $
  </p>
  <p class="Code">
   STRMID(months, (I - 1) * 3, 3)
  </p>
  <p>
   The result of executing these statements is as follows:
  </p>
  <p class="Code">
   &#160;1&#160;&#160;&#160;&#160;&#160;&#160;JAN
  </p>
  <p class="Code">
   &#160;2&#160;&#160;&#160;&#160;&#160;&#160;FEB
  </p>
  <p class="Code">
   &#160;3&#160;&#160;&#160;&#160;&#160;&#160;MAR
  </p>
  <p class="Code">
   &#160;4&#160;&#160;&#160;&#160;&#160;&#160;APR
  </p>
  <p class="Code">
   &#160;5&#160;&#160;&#160;&#160;&#160;&#160;MAY
  </p>
  <p class="Code">
   &#160;6&#160;&#160;&#160;&#160;&#160;&#160;JUN
  </p>
  <p class="Code">
   &#160;7&#160;&#160;&#160;&#160;&#160;&#160;JUL
  </p>
  <p class="Code">
   &#160;8&#160;&#160;&#160;&#160;&#160;&#160;AUG
  </p>
  <p class="Code">
   &#160;9&#160;&#160;&#160;&#160;&#160;&#160;SEP
  </p>
  <p class="Code">
   10&#160;&#160;&#160;&#160;&#160;&#160;OCT
  </p>
  <p class="Code">
   11&#160;&#160;&#160;&#160;&#160;&#160;NOV
  </p>
  <p class="Code">
   12&#160;&#160;&#160;&#160;&#160;&#160;DEC
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>