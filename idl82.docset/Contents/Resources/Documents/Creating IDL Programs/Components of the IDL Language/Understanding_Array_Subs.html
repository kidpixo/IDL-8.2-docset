<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="IDL Programming|Concepts|Arrays" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Understanding Array Subscripts
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/TableStyles/Description.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Creating IDL Programs/Components of the IDL Language/Understanding_Array_Subs.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Programming.html">
    IDL Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../../ProgrammingConcepts.html">
    Concepts
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../Arrays.html">
    Arrays
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Understanding Array Subscripts
   </span>
  </div>
  <h1>
   <a name="arrays_3727706888_515270">
   </a>
   <a name="arrays_3727706888_55211">
   </a>
   Understanding Array Subscripts
  </h1>
  <p>
   <a name="kanchor3397">
   </a>
   Subscripts can be used either to retrieve the value of one or more array elements or to designate array elements to receive new values. The expression
   <span class="Courier">
    arr[12]
   </span>
   denotes the value of the 13th element of
   <span class="Courier">
    arr
   </span>
   (because subscripts start at 0), while the statement
   <span class="Courier">
    arr[12] = 5
   </span>
   stores the number 5 in the 13th element of
   <span class="Courier">
    arr
   </span>
   without changing the other elements.
  </p>
  <p>
   Elements of multidimensional arrays are specified by using one subscript for each dimension. IDL’s notational convention is that for generic arrays and images, the first subscript denotes the column and the second subscript denotes the row. In standard mathematical representation (linear algebra, for example), the convention is reversed: the first subscript denotes the row and the second subscript denotes the column.
  </p>
  <p>
   If
   <span class="Courier">
    A
   </span>
   is a 2-element by 3-element array (using [
   <i>
    column
   </i>
   ,
   <i>
    row
   </i>
   ] notation), the elements are stored in memory as follows:
  </p>
  <table style="caption-side: bottom;mc-table-style: url('../../Resources/TableStyles/Description.css');margin-left: 0;margin-right: auto;" cellspacing="0" class="TableStyle_Description">
   <caption>
    Storage of IDL Array Elements in Memory
   </caption>
   <col />
   <col />
   <col />
   <thead>
    <tr>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColSep">
      <p>
       &#160;
      </p>
     </td>
     <td class="TableStyle_Description_Head_0_0_RowSep_ColEnd">
      <p>
       Stored in Memory
      </p>
     </td>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       <i>
        A
       </i>
       <sub>
        0,0
       </sub>
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColSep">
      <p>
       <i>
        A
       </i>
       <sub>
        1,0
       </sub>
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowSep_ColEnd">
      <p>
       Lowest memory address
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       <i>
        A
       </i>
       <sub>
        0,1
       </sub>
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColSep">
      <p>
       <i>
        A
       </i>
       <sub>
        1,1
       </sub>
      </p>
     </td>
     <td class="TableStyle_Description_Body_1_0_RowSep_ColEnd">
      <p>
       .
       <br />
       .
       <br />
       .
      </p>
     </td>
    </tr>
    <tr>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
      <p>
       <i>
        A
       </i>
       <sub>
        0,2
       </sub>
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColSep">
      <p>
       <i>
        A
       </i>
       <sub>
        1,2
       </sub>
      </p>
     </td>
     <td class="TableStyle_Description_Body_0_0_RowEnd_ColEnd">
      <p>
       Highest memory address
      </p>
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   The elements are ordered in memory as: A
   <sub>
    0,0
   </sub>
   , A
   <sub>
    1,0
   </sub>
   , A
   <sub>
    0,1
   </sub>
   , A
   <sub>
    1,1
   </sub>
   , A
   <sub>
    0,2
   </sub>
   , A
   <sub>
    1,2
   </sub>
   . This ordering is like Fortran. It is the opposite of the order used by C/C++. For more information on how IDL arranges multidimensional data in memory, see
   <a class="MCXref_Heading_0" href="Columns__Rows__and_Array.html#arrays_3727706888_737332" target="" title="" alt="">
    Columns, Rows, and Array Majority
   </a>
   . For a discussion of how the ordering of such data relates to IDL mathematics routines, see
   <a class="MCXref_Heading_0" href="Manipulating_Arrays.html#arrays_3727706888_752335" target="" title="" alt="">
    Manipulating Arrays
   </a>
   .
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   When comparing IDL’s memory layout to other languages, remember that those languages usually use a mathematical [
   <i>
    row
   </i>
   ,
   <i>
    column
   </i>
   ] notation for array dimensions, which is the reverse of the array notation used for the example above. See
   <a class="MCXref_Heading_0" href="Columns__Rows__and_Array.html#arrays_3727706888_737332" target="" title="" alt="">
    Columns, Rows, and Array Majority
   </a>
   for more on comparing IDL’s array layout to that of other languages.
  </p>
  <p>
   <a name="kanchor3398">
   </a>
   Arrays that contain image data are usually displayed in graphics displays with row zero at the bottom of the screen, matching the display’s coordinate system (although this order can be reversed by setting the system variable !ORDER to a nonzero value).
   <a name="kanchor3399">
   </a>
   Array data are printed to standard text output (such as the IDL output log or console window) with the first row on top.
  </p>
  <p>
   Arrays with multiple dimensions are addressed by specifying a subscript expression for each dimension. A two-dimensional array with
   <i>
    n
   </i>
   columns and
   <i>
    m
   </i>
   rows, is addressed with a subscript of the form
   <i>
    [i, j]
   </i>
   , where 0 ≤
   <i style="font-family: Times;font-style: italic;">
    i
   </i>
   &lt;
   <i>
    n
   </i>
   and 0 ≤
   <i style="font-family: Times;font-style: italic;">
    j
   </i>
   &lt;
   <i>
    m
   </i>
   . The first subscript,
   <i>
    i
   </i>
   , is the column index; the second subscript,
   <i>
    j
   </i>
   , is the row index. For example, the following statements select and print the element in the first column of the second row of
   <span class="Courier">
    array
   </span>
   :
  </p>
  <p class="Code">
   array = [[1, 2, 3], [4, 5, 6]]
  </p>
  <p class="Code">
   PRINT, array[0,1]
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   4
  </p>
  <p>
   Elements of multidimensional arrays also can be specified using only one subscript, in which case the array is treated as a vector with the same number of points.
  </p>
  <p>
   &#160;&#160;&#160;&#160;&#160;A
   <sub>
    0,0
   </sub>
   &#160;&#160;&#160;&#160;&#160;A
   <sub>
    0,1
   </sub>
  </p>
  <p>
   &#160;&#160;&#160;&#160;&#160;A
   <sub>
    0,1
   </sub>
   &#160;&#160;&#160;&#160;&#160;A
   <sub>
    1,1
   </sub>
  </p>
  <p>
   &#160;&#160;&#160;&#160;&#160;A
   <sub>
    0,2
   </sub>
   &#160;&#160;&#160;&#160;&#160;A
   <sub>
    1,2
   </sub>
  </p>
  <p>
   In the 2 by 3 element array,
   <span class="Courier">
    A
   </span>
   , element
   <span class="Courier">
    A[2]
   </span>
   is the same element as
   <span class="Courier">
    A[0, 1]
   </span>
   , and
   <span class="Courier">
    A[5]
   </span>
   is the same element as
   <span class="Courier">
    A[1, 2]
   </span>
   .
  </p>
  <p>
   If an attempt is made to reference a nonexistent element of an array using a scalar subscript (a subscript that is negative or larger than the size of the dimension minus&#160;1), an error occurs and program execution stops.
  </p>
  <p>
   Subscripts can be any type of vector or scalar expression. If a subscript expression is not integer, a signed integer copy is made and used to evaluate the subscript.
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   When floating-point numbers are converted to longword integers, they are truncated, not rounded. Thus, specifying
   <span class="Courier">
    A[1.99]
   </span>
   is the same as specifying
   <span class="Courier">
    A[1]
   </span>
   .
  </p>
  <p class="Note" madcap:autonum="&lt;b&gt;Note: &lt;/b&gt;">
   <span class="autonumber">
    <span>
     <b>
      Note:
     </b>
    </span>
   </span>
   Subscripts are converted to the signed integer type used for addressing memory for your system (for example, on a 32-bit architecture, subscripts are converted to signed 32-bit integers). Using subscripts that are outside of the range for that integer type may produce unexpected results.
  </p>
  <h2 class="API">
   <a name="arrays_3727706888_96053">
   </a>
   Extra Dimensions
  </h2>
  <p>
   When creating arrays, IDL eliminates all size 1, or “degenerate”, trailing dimensions. Thus, the statements
  </p>
  <p class="Code">
   A = INTARR(10, 1)
  </p>
  <p class="Code">
   HELP, A
  </p>
  <p>
   print the following:
  </p>
  <p class="Code">
   A               INT       = Array[10]
  </p>
  <p>
   This removal of superfluous dimensions is usually convenient, but it can cause problems when attempting to write fully general procedures and functions. Therefore, IDL allows you to specify “extra” dimensions for an array as long as the extra dimensions are all zero.
  </p>
  <p>
   For example, consider a vector defined as follows:
  </p>
  <p class="Code">
   arr = INDGEN(10)
  </p>
  <p>
   The following are all valid references to the sixth element of
   <span class="Courier">
    arr
   </span>
   :
  </p>
  <p class="Code">
   X = arr[5]
  </p>
  <p class="Code">
   X = arr[5, 0]
  </p>
  <p class="Code">
   X = arr[5, 0, 0, *, 0]
  </p>
  <p>
   Thus, the automatic removal of degenerate trailing dimensions does not cause problems for routines that attempt to access the resulting array.
  </p>
  <p>
   The REFORM function can be used to add degenerate trailing dimensions to an array if desired. For example, the following statements create a 10 element integer vector, and then alter the dimensions to be [10, 1]:
  </p>
  <p class="Code">
   A = INTARR(10)
  </p>
  <p class="Code">
   A = REFORM(A, 10, 1, /OVERWRITE)
  </p>
  <h2 class="API">
   <a name="arrays_3727706888_737171">
   </a>
   <a name="arrays_3727706888_21833">
   </a>
   Array Subscript
   <a name="kanchor3400">
   </a>
   Syntax: [ ] vs. ( )
  </h2>
  <p>
   Versions of IDL prior to version 5.0 used parentheses to indicate array subscripts. Function calls use parentheses in a visually identical way to specify argument lists. As a result, the IDL compiler was not able to distinguish between arrays and functions by looking at the statement syntax. For example, the IDL statement
  </p>
  <p class="Code">
   value = fish(5)
  </p>
  <p>
   could either set the variable value equal to the sixth element of an array named fish, or set value equal to the result of passing the argument 5 to a function called fish.
  </p>
  <p>
   To determine if it is compiling an array subscript or a function call, IDL checks its internal table of known functions. If it finds a function name that matches the unknown element in the command (fish, in the above example), it calls that function with the argument specified. If IDL does not find a function with the correct name in its table of known functions, it assumes that the unknown element is an array, and attempts to return the value of the designated element of that array. This rule generally gives the desired result, but it can be fooled into the wrong choice under certain circumstances, much to the surprise of the unwary programmer.
  </p>
  <p>
   For this reason, versions of IDL beginning with version 5.0 use square brackets rather than parentheses for array subscripting. An array subscripted in this way is unambiguously interpreted as an array under all circumstances. In IDL 5.0 and later:
  </p>
  <p class="Code">
   value = fish[5]
  </p>
  <p>
   sets value to the sixth element of an array named fish.
  </p>
  <p>
   Due to the large amount of existing IDL code written in the older syntax, as well as the ingrained habits of thousands of IDL users, IDL continues to allow the old syntax to be used, subject to the ambiguity mentioned above. That is, while
  </p>
  <p class="Code">
   value = fish[5]
  </p>
  <p>
   is unambiguous,
  </p>
  <p class="Code">
   value = fish(5)
  </p>
  <p>
   is still subject to the same ambiguity—and rules—that applied in IDL versions prior to version 5.0.
  </p>
  <p>
   Since the older syntax has been used widely, you should not be surprised to see it from time to time. However, square brackets are the preferred form, and should be used for new code.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>