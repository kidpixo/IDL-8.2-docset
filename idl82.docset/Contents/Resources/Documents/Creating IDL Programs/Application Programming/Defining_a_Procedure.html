<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:madcap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" madcap:lastblockdepth="2" madcap:lastheight="135.6667" madcap:lastwidth="592" madcap:disablemasterstylesheet="true" madcap:tocpath="IDL Programming|Tasks|Using Procedures, Functions, SAVE Files" madcap:medium="non-print" madcap:inpreviewmode="false" madcap:preloadimages="false" madcap:runtimefiletype="Topic" madcap:targettype="WebHelp" lang="en-US" xml:lang="en-US" madcap:pathtohelpsystem="../../../" madcap:helpsystemfilename="idl.xml" madcap:searchtype="Stem">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
   Defining a Procedure
  </title>
  <link href="../../SkinSupport/MadCap.css" rel="stylesheet" />
  <link href="../../Resources/Stylesheets/IDL_style.css" rel="stylesheet" />
  <script src="../../SkinSupport/MadCapAll.js" type="text/javascript">
  </script>
 </head>
 <body>
  <p class="MCWebHelpFramesetLink" style="display: none;">
   <a href="../../../idl_CSH.html#Creating IDL Programs/Application Programming/Defining_a_Procedure.html" style="">
    Open topic with navigation
   </a>
  </p>
  <div class="MCBreadcrumbsBox_0">
   <span class="MCBreadcrumbsPrefix">
    <![CDATA[ ]]>
   </span>
   <a class="MCBreadcrumbsLink" href="../../IDL Programming.html">
    IDL Programming
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../Programming Tasks.html">
    Tasks
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <a class="MCBreadcrumbsLink" href="../IDL Program Types.html">
    Using Procedures, Functions, SAVE Files
   </a>
   <span class="MCBreadcrumbsDivider">
    &gt;
   </span>
   <span class="MCBreadcrumbs">
    Defining a Procedure
   </span>
  </div>
  <h1>
   <a name="procedures_3673536221_758353">
   </a>
   <a name="procedures_3673536221_97690">
   </a>
   Defining a Procedure
  </h1>
  <p>
   A sequence of one or more IDL statements can be given a name, compiled, and saved for future use with the procedure definition statement. Once a procedure has been successfully compiled, it can be executed using a procedure call statement interactively from the terminal, from a main program, or from another procedure or function.
  </p>
  <p>
   The general format for the definition of a procedure is as follows:
  </p>
  <p class="Code">
   PRO Name, Parameter1, ..., Parametern
  </p>
  <p class="Code">
   &#160;&#160;&#160;; Statements defining procedure.
  </p>
  <p class="Code">
   &#160;&#160;&#160;Statement1
  </p>
  <p class="Code">
   &#160;&#160;&#160;Statement2
  </p>
  <p class="Code">
   &#160;&#160;&#160;...
  </p>
  <p class="Code">
   ; End of procedure definition.
  </p>
  <p class="Code">
   END
  </p>
  <p>
   The PRO statement must be the first line in a user-written
   <span class="DocumentTitleProductName">
    IDL
   </span>
   procedure.
  </p>
  <p>
   Calling a user-written procedure that is in a directory in the IDL search path (!PATH) and has the same name as the prefix of the
   <span class="Courier">
    .sav
   </span>
   or
   <span class="Courier">
    .pro
   </span>
   file, causes the procedure to be read from the disk, compiled, and executed without interrupting program execution.
  </p>
  <h2 class="API">
   <a name="procedures_3673536221_99300">
   </a>
   Calling a Procedure
  </h2>
  <p>
   The syntax of the procedure call statement is as follows:
  </p>
  <p class="Code" style="font-family: Courier;font-style: italic;font-size: 9pt;">
   <i>
    Procedure_Name, Parameter
   </i>
   <sub class="italic">
    1
   </sub>
   <i>
    , Parameter
   </i>
   <sub class="italic">
    2
   </sub>
   <i>
    , ..., Parameter
   </i>
   <sub class="italic">
    n
   </sub>
  </p>
  <p>
   The procedure call statement invokes a system, user-written, or externally-defined procedure. The parameters that follow the procedure’s name are passed to the procedure. When the called procedure finishes, control resumes at the statement following the procedure call statement. Procedure names can be up to 128 characters long.
  </p>
  <p>
   Procedures can come from the following sources:
  </p>
  <ul>
   <li value="1">
    System procedures provided with IDL.
   </li>
   <li value="2">
    User-written procedures written in IDL and compiled with the .RUN command.
   </li>
   <li value="3">
    User-written procedures that are compiled automatically because they reside in directories in the search path. These procedures are compiled the first time they are used.
   </li>
   <li value="4">
    Procedures written in IDL, that are included with the IDL distribution, located in directories that are specified in the search path.
   </li>
   <li value="5">
    Under many operating systems, user-written system procedures coded in FORTRAN, C, or any language that follows the standard calling conventions, which have been dynamically linked with IDL using the LINKIMAGE or CALL_EXTERNAL procedures.
   </li>
  </ul>
  <h2 class="API">
   <a name="procedures_3673536221_97867">
   </a>
   Procedure Examples
  </h2>
  <p>
   Some procedures can be called without any parameters. For example:
  </p>
  <p class="Code">
   IPLOT
  </p>
  <p>
   This is a procedure call to launch the iPlot iTool. There are no explicit inputs or outputs. You can also call iPlot with parameters including data and color specifications:
  </p>
  <p class="Code">
   data = RANDOMU(Seed,45)
  </p>
  <p class="Code">
   IPLOT, data, COLOR=[255,0,0]
  </p>
  <p>
   This opens the iPlot tool and passes it random plot data. The
   <span class="Courier">
    data
   </span>
   parameter is an argument and the COLOR parameter is a keyword. These elements are described in more detail in
   <a class="MCXref_Heading_0" href="Parameters.html#procedures_3673536221_771956" target="" title="" alt="">
    Parameters
   </a>
   .
  </p>
  <p>
   You can also create a named program consisting of a procedure. For example, suppose you have a file called
   <span class="Courier">
    hello_world.pro
   </span>
   containing the following code:
  </p>
  <p class="Code">
   PRO hello_world
  </p>
  <p class="Code">
   &#160;&#160;&#160;PRINT, 'Hello World'
  </p>
  <p class="Code">
   END
  </p>
  <p>
   This IDL “program” consists of a single
   <i>
    user-defined procedure
   </i>
   .
  </p>
  <p>
   IDL program files are assumed to have the extension
   <span class="Courier">
    .pro
   </span>
   or the extension
   <span class="Courier">
    .sav
   </span>
   . When IDL searches for a user-defined procedure or function, it searches for files consisting of the name of the procedure or function, followed by the
   <span class="Courier">
    .pro
   </span>
   or
   <span class="Courier">
    .sav
   </span>
   extension. Procedures and functions can also accept arguments and keywords. Both arguments and keywords allow the program that calls the routine to pass data in the form of IDL variables or expressions to the routine.
  </p>
  <p>
   For example, the previous user-defined procedure could be changed to include an argument and a keyword:
  </p>
  <p class="Code">
   PRO hello_world, name, INCLUDE_NAME = include
  </p>
  <p class="Code">
   IF (KEYWORD_SET(include) &amp;&amp; (N_ELEMENTS(name) NE 0)) THEN BEGIN
  </p>
  <p class="Code">
   PRINT, 'Hello World From '+ name
  </p>
  <p class="Code">
   ENDIF ELSE PRINT, 'Hello World'
  </p>
  <p class="Code">
   END
  </p>
  <p>
   Now if the INCLUDE_NAME keyword is set to a value greater than zero, the above procedure will include the string contained within the
   <span class="Courier">
    name
   </span>
   variable if a value was supplied for the
   <i>
    name
   </i>
   argument. Enter the following procedure call at the command line:
  </p>
  <p class="Code">
   hello_world, name, /INCLUDE_NAME
  </p>
  <p>
   IDL prints,
  </p>
  <p class="Code">
   Hello World
  </p>
  <p>
   Now define a string name and repeat the procedure call:
  </p>
  <p class="Code">
   name = "Horton"
  </p>
  <p class="Code">
   hello_world, name, /INCLUDE_NAME
  </p>
  <p>
   IDL prints:
  </p>
  <p class="Code">
   Hello World From Horton
  </p>
  <p>
   This example uses the KEYWORD_SET and N_ELEMENTS functions in order to handle the possibility of missing information in a procedure or function call. See
   <a class="MCXref_Heading_0" href="Determining_if_a_Keyword.html#procedures_3673536221_758330" target="" title="" alt="">
    Determining if a Keyword is Set
   </a>
   for more information.
  </p>
  <div class="mp_footer">
   Copyright ©
   <span class="DocumentTitleCopyrightYear">
    2012
   </span>
   <![CDATA[ ]]>
   <span class="DocumentTitleCopyrightCompanyName">
    Exelis Visual Information Solutions, Inc.
   </span>
   All Rights Reserved.
  </div>
  <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
  </script>
 </body>
</html>